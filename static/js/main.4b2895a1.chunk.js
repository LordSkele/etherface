(this.webpackJsonpetherface=this.webpackJsonpetherface||[]).push([[0],{190:function(e){e.exports=JSON.parse('{"name":"Example template","templateVersion":"0","tabs":[{"name":"Welcome","slug":"welcome","icon":"slightly_smiling_face","pages":[{"title":"This is an Etherface!","layout":{"columns":[10,2]},"components":[{"type":"markdown","content":"Etherface is an open-source UI builder for Ethereum dApps.  Fork it on [Github](https://github.com/johnkozan/etherface).\\n\\n\\nThis is the default example template.   Edit it as you\'d like!  The template is saved to your browser\'s localstorage.  You can download the template JSON file from the [Settings page](/_/settings).   If the app is run from the command line, an existing template file can be specified: `bin/etherface template.json`.\\n\\n\\nIn the future, there will be flows for deploying an Etherface to a static webhosting service, or to be hosted on a decentralized service.\\n\\n\\n\\nA template is made up of the following elements:\\n\\n\\n## Tabs\\n\\nThe navigation tabs to the left.  \\n\\n\\n## Pages\\n\\nEach Tab can have 1 or more pages.    Pages are arranged by columns, either 1, 2 or 3 wide.  The widths of each column can be adjusted.\\nClick the Edit button in the lower right corner to edit the page, and the components on it.\\n\\n\\n## Components\\n\\nEach page can hold multiple UI components.    There are currently a few component types:\\n\\n\\n###  Markdown\\n\\n\\nMarkdown components are basic text components.  In the future you\'ll be able to mix in variables representing values on the Ethereum blockchain.\\n\\n\\n## Integrations\\n\\n\\nConnections to decentralized services.  Currently the only implemented integration type is to [TheGraph](https://thegraph.com).\\n\\n\\n\\n## Address book\\n\\nThe address book is a collection of contract addresses and their ABIs.  If you are developing a dApp using [Truffle Suite](https://trufflesuite.com), you can upload the Truffle build .json files which includes the ABI and deployment address.\\n\\n\\n\\nClick the settings button in the lower left corner to edit [Tabs](/_/tabs), [Integrations](/_/integrations) and the [address book](/_/addresses).\\n"},{"type":"markdown","content":"## This is a second column\\n\\n\\n\\nBelow are examples of Web3 Transactions components.\\n\\nThe first component is a \\"call\\" component which displays a value from the blockchain.\\n\\n\\nThe second component is a contract function call which creates a new transaction.","layout":{"row":1,"column":2}},{"type":"web3call","address":"0xc0dA01a04C3f3E0be433606045bB7017A7323E38","network":"mainnet","signature":"proposalCount()","title":"Compound Governance Proposal Count","description":"","layout":{"row":2,"column":2},"buttonText":""},{"type":"web3transaction","address":"0xc0dA01a04C3f3E0be433606045bB7017A7323E38","network":"mainnet","signature":"castVote(uint256,bool)","title":"Cast Vote","description":"","buttonText":"vote","layout":{"row":3,"column":2}}]}]},{"name":"Compound Accounts Example","slug":"Accounts","icon":"information_desk_person","pages":[{"layout":{"columns":[12]},"components":[{"type":"datatable","options":{"typeName":"Account","fields":[{"name":"id","kind":"SCALAR","type":"ID","description":"User ETH address","order":0,"enabled":false},{"name":"tokens","kind":"LIST","type":"AccountCToken","description":"Array of CTokens user is in","order":1,"enabled":false},{"name":"countLiquidated","kind":"SCALAR","type":"Int","description":"Count user has been liquidated","order":2,"enabled":false},{"name":"countLiquidator","kind":"SCALAR","type":"Int","description":"Count user has liquidated others","order":3,"enabled":false},{"name":"hasBorrowed","kind":"SCALAR","type":"Boolean","description":"True if user has ever borrowed","order":4,"enabled":false},{"name":"health","kind":"SCALAR","type":"BigDecimal","description":"","order":5,"enabled":true},{"name":"totalBorrowValueInEth","kind":"SCALAR","type":"BigDecimal","description":"","order":6,"enabled":true},{"name":"totalCollateralValueInEth","kind":"SCALAR","type":"BigDecimal","description":"","order":7,"enabled":true}],"singleQuery":"account","listQuery":"accounts"},"data_source":{"type":"thegraph","endpoint":"https://api.thegraph.com/subgraphs/name/graphprotocol/compound-v2"},"layout":{"row":2,"column":1}},{"type":"markdown","content":"# Example data table from TheGraph Endpoint\\n\\n\\nThe follow is data pulled from the [Compound V2](https://thegraph.com/explorer/subgraph/graphprotocol/compound-v2) GraphQL endpoint.\\n\\nDrill down to see more account information in detail.","layout":{"row":1,"column":1}}]}]}],"integrations":[{"type":"thegraph","name":"Compound","endpoint":"https://api.thegraph.com/subgraphs/name/graphprotocol/compound-v2"}],"addresses":[{"network":"mainnet","address":"0x4DA681E4713cC8C4fDbE8a1B027AeBE59c4B332E","abi":"","name":"Etherface donation address"},{"network":"mainnet","address":"0xc0dA01a04C3f3E0be433606045bB7017A7323E38","abi":"[{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"timelock_\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"comp_\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"guardian_\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"constructor\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"ProposalCanceled\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"proposer\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"address[]\\",\\"name\\":\\"targets\\",\\"type\\":\\"address[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"values\\",\\"type\\":\\"uint256[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"string[]\\",\\"name\\":\\"signatures\\",\\"type\\":\\"string[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"bytes[]\\",\\"name\\":\\"calldatas\\",\\"type\\":\\"bytes[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"startBlock\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"endBlock\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"string\\",\\"name\\":\\"description\\",\\"type\\":\\"string\\"}],\\"name\\":\\"ProposalCreated\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"ProposalExecuted\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"eta\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"ProposalQueued\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"voter\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"bool\\",\\"name\\":\\"support\\",\\"type\\":\\"bool\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"votes\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"VoteCast\\",\\"type\\":\\"event\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"BALLOT_TYPEHASH\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"DOMAIN_TYPEHASH\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[],\\"name\\":\\"__abdicate\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[],\\"name\\":\\"__acceptAdmin\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"newPendingAdmin\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"eta\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"__executeSetTimelockPendingAdmin\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"newPendingAdmin\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"eta\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"__queueSetTimelockPendingAdmin\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"cancel\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"support\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"castVote\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"support\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"uint8\\",\\"name\\":\\"v\\",\\"type\\":\\"uint8\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"r\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"s\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"castVoteBySig\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"comp\\",\\"outputs\\":[{\\"internalType\\":\\"contract CompInterface\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"execute\\",\\"outputs\\":[],\\"payable\\":true,\\"stateMutability\\":\\"payable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getActions\\",\\"outputs\\":[{\\"internalType\\":\\"address[]\\",\\"name\\":\\"targets\\",\\"type\\":\\"address[]\\"},{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"values\\",\\"type\\":\\"uint256[]\\"},{\\"internalType\\":\\"string[]\\",\\"name\\":\\"signatures\\",\\"type\\":\\"string[]\\"},{\\"internalType\\":\\"bytes[]\\",\\"name\\":\\"calldatas\\",\\"type\\":\\"bytes[]\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"voter\\",\\"type\\":\\"address\\"}],\\"name\\":\\"getReceipt\\",\\"outputs\\":[{\\"components\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"hasVoted\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"support\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"uint96\\",\\"name\\":\\"votes\\",\\"type\\":\\"uint96\\"}],\\"internalType\\":\\"struct GovernorAlpha.Receipt\\",\\"name\\":\\"\\",\\"type\\":\\"tuple\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"guardian\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"name\\":\\"latestProposalIds\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"name\\",\\"outputs\\":[{\\"internalType\\":\\"string\\",\\"name\\":\\"\\",\\"type\\":\\"string\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"proposalCount\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"proposalMaxOperations\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"proposalThreshold\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"proposals\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"proposer\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"eta\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"startBlock\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"endBlock\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"forVotes\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"againstVotes\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"canceled\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"executed\\",\\"type\\":\\"bool\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address[]\\",\\"name\\":\\"targets\\",\\"type\\":\\"address[]\\"},{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"values\\",\\"type\\":\\"uint256[]\\"},{\\"internalType\\":\\"string[]\\",\\"name\\":\\"signatures\\",\\"type\\":\\"string[]\\"},{\\"internalType\\":\\"bytes[]\\",\\"name\\":\\"calldatas\\",\\"type\\":\\"bytes[]\\"},{\\"internalType\\":\\"string\\",\\"name\\":\\"description\\",\\"type\\":\\"string\\"}],\\"name\\":\\"propose\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"queue\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"quorumVotes\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"state\\",\\"outputs\\":[{\\"internalType\\":\\"enum GovernorAlpha.ProposalState\\",\\"name\\":\\"\\",\\"type\\":\\"uint8\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"timelock\\",\\"outputs\\":[{\\"internalType\\":\\"contract TimelockInterface\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"votingDelay\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"votingPeriod\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"}]","name":"Compound Governance"}]}')},325:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","additionalProperties":false,"definitions":{"Component":{"additionalProperties":false,"properties":{"address":{"type":"string"},"type":{"type":"string"}},"required":["address","type"],"type":"object"},"Number":{"additionalProperties":false,"description":"An object that represents a number of any kind. All JavaScript numbers are 64-bit floating-point numbers.","type":"object"},"Page":{"additionalProperties":false,"properties":{"components":{"items":{"$ref":"#/definitions/Component"},"type":"array"},"layout":{"$ref":"#/definitions/PageLayout"},"title":{"type":"string"}},"required":["components","layout","title"],"type":"object"},"PageLayout":{"additionalProperties":false,"properties":{"columns":{"items":{"$ref":"#/definitions/Number"},"type":"array"}},"required":["columns"],"type":"object"},"Tab":{"additionalProperties":false,"properties":{"icon":{"type":"string"},"name":{"type":"string"},"pages":{"items":{"$ref":"#/definitions/Page"},"type":"array"},"slug":{"type":"string"}},"required":["name","pages","slug"],"type":"object"}},"properties":{"name":{"type":"string"},"tabs":{"items":{"$ref":"#/definitions/Tab"},"type":"array"},"templateVersion":{"type":"string"}},"required":["name","tabs","templateVersion"],"type":"object"}')},341:function(e,t,a){e.exports=a.p+"static/media/thegraph.03df70d0.jpg"},373:function(e,t,a){e.exports=a(645)},379:function(e,t){},381:function(e,t){},475:function(e,t){},477:function(e,t){},519:function(e,t){},520:function(e,t){},522:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=522},645:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),i=a.n(l),c=a(726),o=a(729),s=a(109),u=a(69),m=a(347),d=a(58),p=a(88),f=a(192),b=a(169),y=Object(b.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:f.a.A400},background:{default:"#fff"}}}),E=a(10),v=a(313),g=a(731);function h(e){return r.a.createElement(g.a,Object.assign({elevation:6,variant:"filled"},e))}var O=function(e){var t=e.appearance,a=e.children,n=e.autoDismissTimeout,l=r.a.useState(!0),i=Object(E.a)(l,2),c=i[0],o=i[1],s=function(e,t){"clickaway"!==t&&o(!1)};return r.a.createElement(v.a,{open:c,autoHideDuration:n,onClose:s},r.a.createElement(h,{onClose:s,severity:t},a))},j=a(34),k=a(35),_=a(713),T=a(654),w=a(653),C=a(697),S=a(693),x=a(727),A=a(311),I=a(734),N=a(728),D=a(714),P=a(344),L=a.n(P),B=a(154),F=a.n(B),M=a(656),R=a(249),W=a(3),J=a(82),G=a(14),V=a(180),U=a.n(V),z={autosave:{default:!0}},q=function(e,t){return"".concat(e,".options.").concat(t)},Q=function(){var e={};return Object.keys(z).forEach((function(t){var a=localStorage.getItem(q(t,"etherface-setting"));null===a&&void 0!==z[t].default?e[t]=z[t].default:e[t]=JSON.parse(a)})),e},K=function(e,t){localStorage.setItem(q(e,"etherface-setting"),JSON.stringify(t))};function H(e,t){switch(t.type){case"LOAD_SETTINGS":return Object(G.a)({},e,{},t.payload);case"SET_SETTING":return Object(G.a)({},e,Object(j.a)({},t.payload.setting,t.payload.value));default:return e}}var $={settings:{}},X=r.a.createContext(),Y=function(e){var t=e.children,a=r.a.useReducer(H,$),n=Object(E.a)(a,2),l=n[0],i=n[1];return r.a.createElement(X.Provider,{value:{state:l,dispatch:i}},t)},Z=function(){var e=r.a.useContext(X),t=e.state,a=e.dispatch;return{settings:t,loadSettings:function(){var e=Q();console.log("LOADED SETTINGS: ",e),a({type:"LOAD_SETTINGS",payload:e})},setSetting:function(e,t){console.log("SETTTING>>> ",e,t),K(e,t),a({type:"SET_SETTING",payload:{setting:e,value:t}})}}};function ee(e){var t=0;return Object.keys(e).forEach((function(a){e[a].__id>t&&(t=e[a].__id)})),t}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e).length?0:ee(e)+1}Object.filter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.keys(e).filter((function(a){return t(e[a])})).reduce((function(t,a){return t[a]=e[a],t}),{})};var ae=r.a.createContext(),ne={__loaded:!1};function re(e,t){switch(t.type){case"LOAD_TEMPLATE":var a,n={},r={},l={},i={},c=t.payload,o=c.template,s=c.storage;return o.tabs&&o.tabs.forEach((function(e){var t=te(n);n[t]=Object(G.a)({},e,{__id:t}),e.pages.forEach((function(e){var a=te(r);r[a]=Object(G.a)({},e,{__id:a,__tab_id:t}),e.components.forEach((function(e){var t=te(l);l[t]=Object(G.a)({},e,{__id:t,__page_id:a})})),delete r[a].components})),delete n[t].pages})),o.integrations&&o.integrations.forEach((function(e,t){return i[t]=Object(G.a)({},e,{__id:t,__connected:!1})})),a=o.addresses||[],Object(G.a)({},e,{name:o.name,tabs:n,pages:r,components:l,integrations:i,addresses:a,__loaded:!0,__version:0,__source:s});case"EDIT_TEMPLATE":return console.log("EDIT TEMPLATE:: ",t.payload),Object(G.a)({},e,{},t.payload,{__version:e.__version+1});case"ADD_TAB":var u=te(e.tabs),m=te(e.pages),d={__id:m,__tab_id:u,title:t.payload.title};return Object(G.a)({},e,{tabs:Object(G.a)({},e.tabs,Object(j.a)({},u,Object(G.a)({},t.payload,{__id:u}))),pages:Object(G.a)({},e.pages,Object(j.a)({},m,d)),__version:e.__version+1});case"EDIT_TAB":return Object(G.a)({},e,{tabs:Object(G.a)({},e.tabs,Object(j.a)({},t.payload.__id,Object(G.a)({},e.tabs[t.payload.__id],{},t.payload))),__version:e.__version+1});case"DELETE_TAB":return Object(G.a)({},e,{tabs:Object.filter(e.tabs,(function(e){return e.__id!==t.payload.__id})),__version:e.__version+1});case"ADD_PAGE":if(void 0===t.payload.__tab_id)throw new Error("page requires tab id");var p=te(e.pages);return Object(G.a)({},e,{pages:Object(G.a)({},e.pages,Object(j.a)({},p,Object(G.a)({},t.payload,{__id:p}))),__version:e.__version+1});case"EDIT_PAGE":return Object(G.a)({},e,{pages:Object(G.a)({},e.pages,Object(j.a)({},t.payload.__id,Object(G.a)({},e.pages[t.payload.__id],{},t.payload))),__version:e.__version+1});case"ADD_INTEGRATION":var f=te(e.integrations);return Object(G.a)({},e,{integrations:Object(G.a)({},e.integrations,Object(j.a)({},f,Object(G.a)({},t.payload,{__id:f}))),__version:e.__version+1});case"DELETE_INTEGRATION":return Object(G.a)({},e,{integrations:Object.filter(e.integrations,(function(e){return e.__id!==t.payload.__id})),__version:e.__version+1});case"CONNECT_INTEGRATION":return Object(G.a)({},e,{integrations:Object(G.a)({},e.integrations,Object(j.a)({},t.payload.__id,Object(G.a)({},t.payload,{__connected:!0})))});case"ADD_COMPONENT":if(void 0===t.payload.__page_id)throw new Error("Page id required on component");var b=te(e.components);return Object(G.a)({},e,{components:Object(G.a)({},e.components,Object(j.a)({},b,Object(G.a)({},t.payload,{__id:b}))),__version:e.__version+1});case"EDIT_COMPONENT":return Object(G.a)({},e,{components:Object(G.a)({},e.components,Object(j.a)({},t.payload.__id,Object(G.a)({},e.components[t.payload.__id],{},t.payload))),__version:e.__version+1});case"DELETE_COMPONENT":return Object(G.a)({},e,{components:Object.filter(e.components,(function(e){return e.__id!==t.payload.__id})),__version:e.__version+1});case"ADD_ADDRESS":return Object(G.a)({},e,{addresses:[].concat(Object(J.a)(e.addresses),[t.payload]),__version:e.__version+1});case"EDIT_ADDRESS":return Object(G.a)({},e,{addresses:e.addresses.map((function(e){return e.address!==t.payload.address&&e.network!==t.payload.network?e:Object(G.a)({},e,{},t.payload)})),__version:e.__version+1});case"DELETE_ADDRESS":return Object(G.a)({},e,{addresses:e.addresses.filter((function(e){return e.address!==t.payload.address||e.network!==t.payload.network})),__version:e.__version+1});default:return e}}var le=function(e){var t=e.children,a=e.storage,l=r.a.useReducer(re,ne),i=Object(E.a)(l,2),c=i[0],o=i[1],s=Object(p.useToasts)().addToast,u=Z().settings;return Object(n.useMemo)((function(){c.__version&&c.__version>0&&u.autosave&&function(){var e=me(c);a.save(e),s("Autosaved to ".concat(a.name),{apperance:"success",autoDismiss:!0,autoDismissTimeout:3e3})}()}),[c.__version]),r.a.createElement(ae.Provider,{value:{state:c,dispatch:o}},t)},ie=function(){return r.a.useContext(ae).state},ce=function(){return r.a.useContext(ae).state.addresses.filter((function(e){return!!e.abi}))},oe=function(e,t){return r.a.useContext(ae).state.addresses.find((function(a){return a.address===e&&a.network===t}))},se=function(e){var t=r.a.useContext(ae).state.components;return Object.filter(t,(function(t){return t.__page_id===e}))};function ue(e){var t=Object.assign({},e);return Object.keys(e).forEach((function(e){"__"===e.substr(0,2)&&delete t[e]})),t}function me(e){var t={tabs:[],integrations:[],addresses:[]};return Object.keys(e.tabs).forEach((function(a){var n=Object(G.a)({},e.tabs[a],{pages:[]}),r=Object.filter(e.pages,(function(e){return e.__tab_id===n.__id}));Object.keys(r).forEach((function(t){var a=r[t];a.components=[];var l=Object.filter(e.components,(function(e){return e.__page_id===a.__id}));Object.keys(l).forEach((function(t){a.components.push(ue(e.components[t]))})),n.pages.push(ue(a))})),t.tabs.push(ue(n))})),Object.keys(e.integrations).forEach((function(a){t.integrations.push(ue(e.integrations[a]))})),t.addresses=Object.keys(e.addresses).map((function(t){return e.addresses[t]})),t.name=e.name,t.templateVersion="0",t}function de(e){return U()(e.name||"Untitled template")}var pe=a(73),fe=a(691),be=a(31),ye=a(324),Ee=a.n(ye),ve=a(325),ge=a(8),he=a.n(ge),Oe=a(37),je=a(348),ke=a(110),_e=a(67),Te=a(330),we=a(350),Ce=a(326),Se=a.n(Ce);var xe=function(e){var t=Object(n.useState)({}),a=Object(E.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){Object(Oe.a)(he.a.mark((function t(){var a;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!r[e]){t.next=2;break}return t.abrupt("return");case 2:return t.t0=JSON,t.next=5,Se()(e);case 5:t.t1=t.sent,a=t.t0.parse.call(t.t0,t.t1),l(Object(G.a)({},r,Object(j.a)({},e,a.data.__schema)));case 8:case"end":return t.stop()}}),t)})))()}),[r,e]),e?r[e]:void 0},Ae=new Ee.a({allErrors:!0});Ae.addSchema(ve,"template");var Ie=function(){var e=r.a.useContext(ae),t=e.dispatch,a=e.state;return{loadAppTemplate:function(e,a){t({type:"LOAD_TEMPLATE",payload:{template:e,storage:a}})},editTemplate:function(e){t({type:"EDIT_TEMPLATE",payload:e})},addTab:function(e){if(e.slug||(e.slug=U()(e.name)),!Ae.validate({$ref:"template#/definitions/Tab"},e)){var n=Ae.errorsText()&&"no errors"!==Ae.errorsText().toLowerCase()?Ae.errorsText():"";throw new Error(n)}Object.filter(a.tabs,(function(t){return t.slug===e.slug})),t({type:"ADD_TAB",payload:e})},editTab:function(e){t({type:"EDIT_TAB",payload:e})},deleteTab:function(e){t({type:"DELETE_TAB",payload:e})},addPage:function(e){t({type:"ADD_PAGE",payload:e})},editPage:function(e){t({type:"EDIT_PAGE",payload:e})},addIntegration:function(e){t({type:"ADD_INTEGRATION",payload:e})},deleteIntegration:function(e){t({type:"DELETE_INTEGRATION",payload:e})},connectIntegration:function(e){var a=function(t){switch(t){case"thegraph":return function(e){var t=new je.a,a=new we.a({credentials:"same-origin",uri:e});return new ke.a({cache:t,link:_e.a.from([Object(Te.a)((function(e){var t=e.graphQLErrors,a=e.networkError;console.error(t,a)})),a])})}(e.endpoint);default:throw new Error("Unsupported integration type: ",t)}}(e.type);t({type:"CONNECT_INTEGRATION",payload:Object(G.a)({},e,{__instance:a})})},addComponent:function(e){t({type:"ADD_COMPONENT",payload:e})},editComponent:function(e){t({type:"EDIT_COMPONENT",payload:e})},deleteComponent:function(e){t({type:"DELETE_COMPONENT",payload:e})},addAddress:function(e){t({type:"ADD_ADDRESS",payload:e})},deleteAddress:function(e){t({type:"DELETE_ADDRESS",payload:e})},editAddress:function(e){t({type:"EDIT_ADDRESS",payload:e})}}},Ne=function(e){var t=e.tab_id,a=Ie().addPage,n=Object(be.useForm)({fields:[{name:"title",label:"title"}],submit:function(e){a({title:e.get("title"),__tab_id:t})}}),l=Object(E.a)(n,2),i=l[0],c=l[1];return r.a.createElement("div",null,r.a.createElement(pe.a,null,"Add page"),r.a.createElement(fe.a,Object.assign({},i.title,{autoFocus:!0})),r.a.createElement("br",null),r.a.createElement(w.a,{color:"primary",onClick:c.submit},"Add Page"))},De=a(722),Pe=[{chainId:1,id:"mainnet",name:"Mainnet"},{chainId:3,id:"ropsten",name:"Ropsten"},{chainId:4,id:"rinkeby",name:"Rinkeby"},{chainId:5,id:"goerli",name:"Goerli"},{chainId:42,id:"kovan",name:"Kovan"},{chainId:1337,id:"private",name:"Private chain"},{chainId:5777,id:"ganache",name:"Ganache"}],Le=a(694),Be=a(695),Fe=a(696),Me=function(e){var t=e.page_id,a=e.row,l=e.column,i=e.preSave,c=Object(n.useState)(),o=Object(E.a)(c,2),s=o[0],u=o[1],m=Ie().addComponent,d=se(t);if(s){var p=Ia(s,"new");return r.a.createElement(p,{onCancel:function(){u(void 0)},onCreate:function(e){var n=Object.assign({},rn);if(a)n.row=a;else{var r=0;Object.keys(d).forEach((function(e){var t=(d[e].layout||rn).row;t>r&&(r=t)})),n.row=r+1}n.column=l||1,i&&i(),m(Object(G.a)({},e,{__page_id:t,layout:n}))}})}return r.a.createElement("div",null,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"New Component"}),r.a.createElement(Fe.a,null,r.a.createElement(C.a,{container:!0},Aa.map((function(e){return r.a.createElement(C.a,{item:!0,key:e.value,spacing:3},r.a.createElement(Le.a,null,r.a.createElement(Fe.a,null,r.a.createElement(w.a,{onClick:function(){return u(e.value)}},e.label))))}))))))},Re=a(92),We=a(699),Je=a(651),Ge=a(658),Ve=a(655),Ue=a(698),ze=a(652),qe=function(e){var t=e.label,a=e.error,n=e.value,l=e.helperText,i=(e.children,e.options),c=e.fullWidth,o=Object(Re.a)(e,["label","error","value","helperText","children","options","fullWidth"]);return r.a.createElement(Je.a,{fullWidth:c},t&&r.a.createElement(Ge.a,{error:a},t),r.a.createElement(Ve.a,Object.assign({value:n},o,{error:a}),i.map((function(e){return r.a.createElement(Ue.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(ze.a,{error:a},l))},Qe=a(17),Ke=a(18),He=a(22),$e=a(26),Xe=a(27),Ye=a(349),Ze=a(132),et=new Ye.a({supportedChainIds:Pe.map((function(e){return e.chainId}))}),tt=function(e,t){var a=oe(e,t),r=Object(d.b)(),l=r.library,i=r.account,c=r.active,o=a.abi;return Object(n.useMemo)((function(){if(o){var t=c?new nt(l.getSigner(i)):Ze.ethers.getDefaultProvider();return new Ze.ethers.Contract(e,o,t)}}),[e,t,i,l,c])},at=function(){var e=Object(d.b)(),t=e.library,a=e.account;e.active;try{return void 0!==new nt(t.getSigner(a))}catch(n){return!1}},nt=function(e){Object($e.a)(a,e);var t=Object(Xe.a)(a);function a(e){var n;return Object(Qe.a)(this,a),n=t.call(this),Ze.ethers.utils.defineReadOnly(Object(He.a)(n),"signer",e),Ze.ethers.utils.defineReadOnly(Object(He.a)(n),"provider",e.provider),n}return Object(Ke.a)(a,[{key:"getAddress",value:function(){return this.signer.getAddress()}},{key:"sendTransaction",value:function(e){var t=this;return this.signer.sendUncheckedTransaction(e).then((function(e){return{hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(a){return t.provider.waitForTransaction(e,a)}}}))}},{key:"signMessage",value:function(e){return this.signer.signMessage(e)}}]),a}(Ze.ethers.Signer),rt=function(e){var t=e.address,a=e.network,l=e.form,i=e.fields,c=Object(Re.a)(e,["address","network","form","fields"]),o=tt(t,a),s=Object.filter(o.interface.functions,(function(e){return"transaction"===e.type||"call"===e.type})),u=[];return Object.keys(s).forEach((function(e){e.indexOf("(")>0&&u.push({value:s[e].signature,label:s[e].signature})})),Object(n.useEffect)((function(){l.addField({name:"function",label:"Function",type:"select",options:u})}),[]),i.function?r.a.createElement(qe,Object.assign({},i.function,c)):null},lt=a(730),it=Object(n.createContext)(),ct={transactions:[],blockNumber:{}};function ot(e,t){switch(t.type){case"ADD_TX":return Object(G.a)({},e,{transactions:Object(G.a)({},e.transactions,Object(j.a)({},t.payload.hash,t.payload))});case"SET_BLOCK_NUMBER":return Object(G.a)({},e,{blockNumber:Object(G.a)({},e.blockNumber,Object(j.a)({},t.payload.chainId,t.payload.blockNumber))});case"SET_TX_BLOCK_NUM":var a=t.payload,n=a.hash,r=(a.chainId,a.blockNumber);return Object(G.a)({},e,{transactions:Object(G.a)({},e.transactions,Object(j.a)({},n,Object(G.a)({},e.transactions[n],{_checkedBlock:r})))});case"SET_TX_RECEIPT":var l=t.payload,i=l.hash,c=(l.chainId,l.receipt);return Object(G.a)({},e,{transactions:Object(G.a)({},e.transactions,Object(j.a)({},i,Object(G.a)({},e.transactions[i],{receipt:c})))});default:return e}}var st=function(e){var t=e.children,a=Object(n.useReducer)(ot,ct),l=Object(E.a)(a,2),i=l[0],c=l[1],o=function(e){c({type:"ADD_TX",payload:e})},s=function(e,t,a){c({type:"SET_TX_BLOCK_NUM",payload:{hash:e,chainId:t,blockNumber:a}})},u=Object(n.useCallback)((function(e,t,a){c({type:"SET_TX_RECEIPT",payload:{hash:e,chainId:t,receipt:a}})}),[]),m=Object(n.useCallback)((function(e,t){c({type:"SET_BLOCK_NUMBER",payload:{chainId:e,blockNumber:t}})}),[]);return r.a.createElement(it.Provider,{value:Object(n.useMemo)((function(){return[i,{addTx:o,setTxBlockNumber:s,setTxReceipt:u,setBlockNumber:m}]}),[i,o,s,u,m])},t)},ut=function(){return Object(n.useContext)(it)},mt=function(){var e=ut();return Object(E.a)(e,1)[0].transactions};function dt(){var e=Object(d.b)(),t=e.library,a=e.chainId,r=ut(),l=Object(E.a)(r,2)[1].setBlockNumber;return Object(n.useEffect)((function(){if(t){var e=!1;function n(){t.getBlockNumber().then((function(t){e||l(a,t)})).catch((function(){e||l(a,null)}))}return n(),t.on("block",n),function(){e=!0,t.removeListener("block",n)}}}),[a,t,l]),null}function pt(){var e=Object(d.b)(),t=e.chainId,a=e.library,r=ut(),l=Object(E.a)(r,2)[1],i=l.setTxBlockNumber,c=l.setTxReceipt,o=function(e){var t=ut();return Object(E.a)(t,1)[0].blockNumber[e]||0}(t),s=mt();return Object(n.useEffect)((function(){if((t||0===t)&&a){var e=!1;return Object.keys(s).forEach((function(n){var r=s[n];r.chainId===t&&(r.receipt||r._checkedBlock!==o&&a.getTransactionReceipt(n).then((function(a){e||(a?c(n,t,a):i(n,t,o))})).catch((function(){i(n,t,o)})))})),function(){e=!0}}}),[t,a,s,o,i,c]),null}var ft=a(692),bt=a(333),yt=a.n(bt),Et=a(332),vt=a.n(Et),gt=a(689),ht=a(263),Ot=a(194),jt=a(700),kt=a(302),_t=Object(kt.a)((function(e){return{success:{backgroundColor:Ot.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:jt.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),Tt=function(e){var t=e.message,a=Object(n.useState)(!0),l=Object(E.a)(a,2),i=l[0],c=l[1],o=_t(),s=function(e,t){"clickaway"!==t&&c(!1)};return i?r.a.createElement(ft.a,null,r.a.createElement(v.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:i,onClose:s},r.a.createElement(ht.a,{className:Object(W.default)(o.error),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar"},r.a.createElement(vt.a,{className:Object(W.default)(o.icon,o.iconVariant)}),t),action:[r.a.createElement(gt.a,{key:"close","aria-label":"close",color:"inherit",onClick:s},r.a.createElement(yt.a,{className:o.icon}))],onClose:s}))):null},wt=a(702),Ct=a(701),St=Object(kt.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),xt=function(e){var t=e.variant,a=Object(Re.a)(e,["variant"]),n=St(),l="circle"===t?Ct.a:wt.a;return r.a.createElement("div",{className:n.root},r.a.createElement(l,a))},At=Object(M.a)((function(e){return{root:{},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),It=function(e){var t=e.result,a=e.onCancel;return r.a.createElement("div",null,"Result: ",t.toString(),r.a.createElement("br",null),r.a.createElement(w.a,{size:"small",onClick:a},"Clear"))},Nt=a(29),Dt={new:function(e){var t=e.onCreate,a=e.onCancel,n=ce(),l=(n||[]).map((function(e){return{value:{network:e.network,address:e.address},label:"".concat(e.name||""," ").concat(e.address," (").concat(e.network,") ")}})),i=Object(be.useForm)({fields:[{name:"title",label:"Title",optional:!0},{name:"description",label:"Description",optional:!0},{name:"address",label:"Address",type:"select",options:l},{name:"buttonText",label:"Button text",optional:!0}],submit:function(e){var n=e.get("address"),r=n.address,l=n.network;t({type:"web3transaction",address:r,network:l,signature:e.get("function"),title:e.get("title"),description:e.get("description"),buttonText:e.get("buttonText")}),a()}}),c=Object(E.a)(i,2),o=c[0],s=c[1],u=n&&Array.isArray(n)&&0===n.length,m=u?r.a.createElement(g.a,{severity:"warning"},r.a.createElement(k.a,{to:"/_/addresses"},"Add an Ethereum contract to the address book in order to interact with it.")):void 0;return r.a.createElement("div",null,r.a.createElement(s.Form,{disabled:!u},r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"New Web3 Transaction"}),r.a.createElement(Fe.a,null,m,r.a.createElement(fe.a,Object.assign({fullWidth:!0},o.title)),r.a.createElement(fe.a,Object.assign({fullWidth:!0},o.description)),r.a.createElement(qe,Object.assign({fullWidth:!0},o.address)),""!==o.address.value?r.a.createElement(rt,Object.assign({},o.function,{address:o.address.value.address,network:o.address.value.network,form:s,fields:o})):void 0,r.a.createElement(fe.a,Object.assign({fullWidth:!0},o.buttonText))),r.a.createElement(We.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:s.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel")))))},show:function(e){var t=e.component,a=At(),l=tt(t.address,t.network),i=at(),c=Object(d.b)().chainId,o=ut(),s=Object(E.a)(o,2)[1].addTx,u=Object(n.useState)(),m=Object(E.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)(!1),y=Object(E.a)(b,2),v=y[0],g=y[1],h=Object(n.useState)(null),O=Object(E.a)(h,2),j=O[0],k=O[1],_=l?l.interface.functions[t.signature]:void 0,T=_?_.inputs.map((function(e){return{name:e.name,label:e.name,type:"text"}})):[],C=Object(be.useForm)({fields:T,submit:function(){var e=Object(Oe.a)(he.a.mark((function e(a){var n,r,i,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("call"!==_.type){e.next=10;break}return n=Object.keys(x).map((function(e){return a.get(e)})),g(!0),e.next=5,l[t.signature].apply(l,Object(J.a)(n));case 5:r=e.sent,f(r),g(!1),e.next=26;break;case 10:if("transaction"!==_.type){e.next=26;break}return i=Object.keys(x).map((function(e){return a.get(e)})),g(!0),e.prev=13,e.next=16,l[t.signature].apply(l,Object(J.a)(i));case 16:o=e.sent,s(Object(G.a)({},o,{chainId:c})),f(o.hash),g(!1),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(13),k(e.t0.toString()),g(!1);case 26:case"end":return e.stop()}}),e,null,[[13,22]])})));return function(t){return e.apply(this,arguments)}}()}),S=Object(E.a)(C,2),x=S[0],A=S[1],I="transaction"===_.type,N=Pe.find((function(e){return e.id===t.network})).chainId!==c?"Connect your wallet to ".concat(t.network):void 0,D=I&&!i?"Web3 wallet required":void 0,P=!!(!l||I&&!i||N||D);return v?r.a.createElement(xt,null):p?r.a.createElement(It,{signature:t.signature,result:p,onCancel:function(){A.reset(),f(void 0)}}):r.a.createElement(lt.a,{className:a.root},j?r.a.createElement(Tt,{message:j}):void 0,r.a.createElement(pe.a,{variant:"h5"},t.title||""),r.a.createElement(pe.a,null,t.description||""),r.a.createElement(A.Form,null,r.a.createElement(lt.a,{flex:"rows"},Object.keys(x).map((function(e){return r.a.createElement(fe.a,Object.assign({},x[e],{disabled:P,key:e}))})),r.a.createElement(w.a,{color:"primary",type:"submit",onClick:A.submit,disabled:P},t.buttonText||"Send"),r.a.createElement(ze.a,null,D,N))))},edit:function(e){var t=e.component,a=e.onCancel,n=e.onSave,l=Ie().editComponent,i=Object(Nt.fromJS)({description:t.description,buttonText:t.buttonText}),c=Object(be.useForm)({fields:[{name:"description",label:"Description",type:"text",optional:!0},{name:"buttonText",label:"Button text",type:"text",optional:!0}],initialValues:i,submit:function(e){var a={};Array.from(e,(function(e){var t=Object(E.a)(e,2),n=t[0],r=t[1];return a[n]=r})),l(Object(G.a)({},t,{},a)),n()}}),o=Object(E.a)(c,2),s=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement(u.Form,null,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Edit Web3 component"}),r.a.createElement(Fe.a,null,r.a.createElement(pe.a,null,"Address: ",t.address),r.a.createElement("br",null),r.a.createElement(pe.a,null,"Function: ",t.signature),r.a.createElement("br",null),r.a.createElement(fe.a,s.description),r.a.createElement("br",null),r.a.createElement(fe.a,s.buttonText)),r.a.createElement(We.a,null,r.a.createElement(w.a,{color:"primary",variant:"outlined",onClick:u.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel")))))},preview:function(e){var t=e.component;return r.a.createElement("div",null,r.a.createElement(pe.a,null,r.a.createElement("strong",null,t.title)),r.a.createElement(pe.a,null,t.nework," ",t.address," ",t.signature))}},Pt=function(e){var t=e.address,a=e.network,l=e.form,i=e.fields,c=Object(Re.a)(e,["address","network","form","fields"]),o=tt(t,a),s=Object.filter(o.interface.functions,(function(e){return"call"===e.type})),u=[];return Object.keys(s).forEach((function(e){e.indexOf("(")>0&&u.push({value:s[e].signature,label:s[e].signature})})),Object(n.useEffect)((function(){l.addField({name:"function",label:"Function",type:"select",options:u})}),[]),i.function?r.a.createElement(qe,Object.assign({},i.function,c)):null},Lt=Object(M.a)((function(e){return{root:{},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Bt=function(e){var t=e.result;return r.a.createElement("div",null,t.toString())},Ft={new:function(e){var t=e.onCreate,a=e.onCancel,n=ce(),l=(n||[]).map((function(e){return{value:{network:e.network,address:e.address},label:"".concat(e.name||""," ").concat(e.address," (").concat(e.network,") ")}})),i=Object(be.useForm)({fields:[{name:"title",label:"Title",optional:!0},{name:"description",label:"Description",optional:!0},{name:"address",label:"Address",type:"select",options:l},{name:"buttonText",label:"Button text",optional:!0}],submit:function(e){var n=e.get("address"),r=n.address,l=n.network;t({type:"web3call",address:r,network:l,signature:e.get("function"),title:e.get("title"),description:e.get("description")}),a()}}),c=Object(E.a)(i,2),o=c[0],s=c[1],u=n&&Array.isArray(n)&&0===n.length,m=u?r.a.createElement(g.a,{severity:"warning"},r.a.createElement(k.a,{to:"/_/addresses"},"Add an Ethereum contract to the address book in order to interact with it.")):void 0;return r.a.createElement("div",null,r.a.createElement(s.Form,{disabled:!u},r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"New Web3 Call"}),r.a.createElement(Fe.a,null,m,r.a.createElement(fe.a,Object.assign({fullWidth:!0},o.title)),r.a.createElement(fe.a,Object.assign({fullWidth:!0},o.description)),r.a.createElement(qe,Object.assign({fullWidth:!0},o.address)),""!==o.address.value?r.a.createElement(Pt,Object.assign({},o.function,{address:o.address.value.address,network:o.address.value.network,form:s,fields:o})):void 0),r.a.createElement(We.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:s.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel")))))},show:function(e){var t=e.component,a=Lt(),l=tt(t.address,t.network),i=(at(),Object(d.b)().chainId,Object(n.useState)()),c=Object(E.a)(i,2),o=c[0],s=c[1],u=Object(n.useState)(!0),m=Object(E.a)(u,2),p=(m[0],m[1]),f=Object(n.useState)(null),b=Object(E.a)(f,2),y=b[0];b[1],l&&l.interface.functions[t.signature];Object(n.useEffect)((function(){Object(Oe.a)(he.a.mark((function e(){var a,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,l[t.signature].apply(l,a);case 3:n=e.sent,s(n),p(!1);case 6:case"end":return e.stop()}}),e)})))()}),[]);Pe.find((function(e){return e.id===t.network})).chainId;var v=o?r.a.createElement(Bt,{result:o}):null;return r.a.createElement(lt.a,{className:a.root},y?r.a.createElement(Tt,{message:y}):void 0,r.a.createElement(pe.a,{variant:"h5"},t.title||""),r.a.createElement(pe.a,null,t.description||""),r.a.createElement(lt.a,{flex:"rows"},v))},edit:function(e){var t=e.component,a=e.onCancel,n=e.onSave,l=Ie().editComponent,i=Object(Nt.fromJS)({description:t.description,buttonText:t.buttonText}),c=Object(be.useForm)({fields:[{name:"description",label:"Description",type:"text",optional:!0},{name:"buttonText",label:"Button text",type:"text",optional:!0}],initialValues:i,submit:function(e){var a={};Array.from(e,(function(e){var t=Object(E.a)(e,2),n=t[0],r=t[1];return a[n]=r})),l(Object(G.a)({},t,{},a)),n()}}),o=Object(E.a)(c,2),s=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement(u.Form,null,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Edit Web3 component"}),r.a.createElement(Fe.a,null,r.a.createElement(pe.a,null,"Address: ",t.address),r.a.createElement("br",null),r.a.createElement(pe.a,null,"Function: ",t.signature),r.a.createElement("br",null),r.a.createElement(fe.a,s.description),r.a.createElement("br",null),r.a.createElement(fe.a,s.buttonText)),r.a.createElement(We.a,null,r.a.createElement(w.a,{color:"primary",variant:"outlined",onClick:u.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel")))))},preview:function(e){var t=e.component;return r.a.createElement("div",null,r.a.createElement(pe.a,null,r.a.createElement("strong",null,t.title)),r.a.createElement(pe.a,null,t.nework," ",t.address," ",t.signature))}},Mt=a(703),Rt=a(732),Wt=a(704),Jt=a(705);function Gt(e,t){var a=t.types.find((function(e){return"OBJECT"===e.kind&&"Query"===e.name})).fields.find((function(t){return"OBJECT"===t.type.kind&&t.type.name===e}));return a?a.name:void 0}function Vt(e){return e.type.ofType&&"LIST"===e.type.ofType.kind&&"OBJECT"===e.type.ofType.ofType.ofType.kind?{name:e.name,kind:"LIST",type:e.type.ofType.ofType.ofType.name}:e.type.ofType&&"LIST"===e.type.ofType.kind&&"SCALAR"===e.type.ofType.ofType.ofType.kind?{name:e.name,kind:"SCALAR",type:e.type.ofType.ofType.ofType.name}:"NON_NULL"===e.type.kind?{name:e.name,kind:e.type.ofType.kind,type:e.type.ofType.name}:{name:e.name,kind:e.type.kind,type:e.type.name}}var Ut=function(e){var t=e.schema,a=e.onNext,l=Object(n.useState)(),i=Object(E.a)(l,2),c=i[0],o=i[1];if(!t)return r.a.createElement(xt,null);var s=t.types.filter((function(e){return"OBJECT"===e.kind&&"__"!==e.name.substr(0,2)&&e.name!==t.queryType.name&&e.name!==t.subscriptionType.name}));return r.a.createElement("div",null,r.a.createElement(pe.a,null,"Select model:"),r.a.createElement(w.a,{disabled:void 0===c,variant:"outlined",color:"primary",onClick:function(){return a(c)}},"Next"),r.a.createElement(S.a,{dense:!0},s.map((function(e){return r.a.createElement(T.a,{key:e.name,selected:e.name===c,onClick:function(){return e.name===c?o(void 0):o(e.name)}},r.a.createElement(Wt.a,{primary:e.name,secondary:e.description}))}))))},zt=function(e){var t=e.schema,a=e.model,l=e.onNext,i=Object(n.useState)([]),c=Object(E.a)(i,2),o=c[0],s=c[1];if(!a)return r.a.createElement("div",null);var u=t.types.find((function(e){return e.name===a})).fields;return r.a.createElement("div",null,r.a.createElement(pe.a,null,"Select fields:"),r.a.createElement(w.a,{disabled:0===o.length,variant:"outlined",color:"primary",onClick:function(){return l(o)}},"Next"),r.a.createElement(pe.a,{onClick:function(){s(u.map((function(e){return e.name})))}},"Select All"),r.a.createElement(S.a,{dense:!0},u.map((function(e){return r.a.createElement(T.a,{key:e.name,selected:o.includes(e.name),onClick:function(){return function(e){o.includes(e)?s(o.filter((function(t){return t!==e}))):s([e].concat(Object(J.a)(o)))}(e.name)}},r.a.createElement(Wt.a,{primary:e.name,secondary:e.description}))}))))},qt=a(183),Qt=a(706),Kt=a(707),Ht=a(708),$t=a(709),Xt=a(335),Yt=a.n(Xt),Zt=a(334),ea=a.n(Zt),ta=a(184),aa=a.n(ta),na=a(191);function ra(){var e=Object(qt.a)(["\n    query Query {\n      ",'(id: "','") {\n        ',"\n      }\n    }\n  "]);return ra=function(){return e},e}var la=Object(M.a)((function(e){return{fakelink:{cursor:"pointer",textDecoration:"underline"}}})),ia=function(e){var t=e.graph_client,a=e.model,l=e.id,i=e.fields,c=e.onCancel,o=e.setSelectedQuery,s=la(),u=Object(n.useState)({}),m=Object(E.a)(u,2),d=m[0],p=m[1];if(!a)throw new Error("Model name required");var f=aa()(ra(),a,l,i.map((function(e){return"LIST"===e.kind||"OBJECT"===e.kind?"".concat(e.name," { id }"):e.name})).join("\n")),b=Object(na.a)(f,{client:t}),y=b.loading,v=b.error,g=b.data;if(y)return r.a.createElement(xt,null);if(v)return r.a.createElement("div",null,"Error: ",v.toString());var h=function(e){return null===e||"string"===typeof e?e:"object"===typeof e&&e.id&&e.__typename?r.a.createElement("div",{className:s.fakelink,onClick:function(){return o({model:e.__typename,id:e.id})}},e.__typename," - ",e.id):e},O=Object.keys(g[a]).filter((function(e){return"__"!==e.substr(0,2)})),k=g[a];return r.a.createElement("div",null,r.a.createElement(pe.a,{variant:"h5"},a),r.a.createElement(pe.a,{variant:"h6"},l),r.a.createElement(Qt.a,null,r.a.createElement(Kt.a,null,O.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht.a,null,r.a.createElement($t.a,null,r.a.createElement("strong",null,e)),r.a.createElement($t.a,null,Array.isArray(k[e])?r.a.createElement("div",{className:s.fakelink,onClick:function(){var t;d[t=e]?p(Object(G.a)({},d,Object(j.a)({},t,!1))):p(Object(G.a)({},d,Object(j.a)({},t,!0)))}},k[e].length," ",k[e].length>0?k[e][0].__typename?k[e][0].__typename:"record":void 0,k[e].length>1?"s":void 0,d[e]?r.a.createElement(ea.a,null):r.a.createElement(Yt.a,null)):h(g[a][e]))),Array.isArray(k[e])&&d[e]?k[e].map((function(e,t){return r.a.createElement(Ht.a,{key:"".concat(e,"-").concat(t)},r.a.createElement($t.a,null),r.a.createElement($t.a,null,h(e)))})):void 0)})))),r.a.createElement("br",null),r.a.createElement(w.a,{variant:"outlined",onClick:c},"Back"))},ca=a(710),oa=a(711),sa=a(712),ua=a(733),ma=a(32),da=a(244),pa=a.n(da),fa=a(246),ba=a.n(fa),ya=a(245),Ea=a.n(ya),va=a(243),ga=a.n(va),ha=Object(kt.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}})),Oa=function(e){e.count;var t=e.page,a=e.pageCount,n=e.rowsPerPage,l=e.onChangePage,i=ha(),c=Object(ma.a)();return r.a.createElement("div",{className:i.root},r.a.createElement(gt.a,{onClick:function(e){l(e,0)},disabled:0===t,"aria-label":"first page"},"rtl"===c.direction?r.a.createElement(ga.a,null):r.a.createElement(pa.a,null)),r.a.createElement(gt.a,{onClick:function(e){l(e,t-1)},disabled:0===t,"aria-label":"previous page"},"rtl"===c.direction?r.a.createElement(Ea.a,null):r.a.createElement(ba.a,null)),r.a.createElement(gt.a,{onClick:function(e){l(e,t+1)},disabled:a<n,"aria-label":"next page"},"rtl"===c.direction?r.a.createElement(ba.a,null):r.a.createElement(Ea.a,null)),r.a.createElement(gt.a,{disabled:!0,"aria-label":"last page"},"rtl"===c.direction?r.a.createElement(pa.a,null):r.a.createElement(ga.a,null)))};function ja(){var e=Object(qt.a)(["\n      query Query {\n        ","(first: ",", skip: ",") {\n          ","\n        }\n      }\n    "]);return ja=function(){return e},e}var ka=Object(M.a)((function(e){return{root:{},submitButton:{},error:{color:"red"},fakelink:{cursor:"pointer",textDecoration:"underline"}}})),_a=[10,25,50],Ta=function(e){var t=e.component,a=e.setSelectedQuery,l=e.graph_client,i=ka(),c=t.options.fields,o=Object(n.useState)(0),s=Object(E.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(_a[0]),p=Object(E.a)(d,2),f=p[0],b=p[1],y=c.filter((function(e){return"ID"===e.type||e.enabled&&"LIST"!==e.kind})),v=u*f,g=aa()(ja(),t.options.listQuery,f,v,y.map((function(e){return e.name})).join("\n")),h=Object(na.a)(g,{client:l}),O=h.loading,j=h.error,k=h.data;if(O)return r.a.createElement(xt,null);if(j)return r.a.createElement("div",null,"Error: ",j.toString());var _=k[Object.keys(k)[0]];if(_.length<1)return r.a.createElement("div",null,"No data");var T=Object.keys(_[0]).filter((function(e){return"__"!==e.substr(0,2)}));return r.a.createElement("div",{className:i.root},r.a.createElement(ca.a,null,r.a.createElement(Qt.a,{className:i.table,"aria-label":"table"},r.a.createElement(oa.a,null,r.a.createElement(Ht.a,null,T.map((function(e,t){return r.a.createElement($t.a,{key:"col-".concat(t)},e)})))),r.a.createElement(Kt.a,null,_.map((function(e,t){return r.a.createElement(Ht.a,{key:"row-".concat(t)},T.map((function(n,l){return r.a.createElement($t.a,{key:"cell-".concat(t,"-").concat(l)},(c=e[n],o=n,s=e.__typename,"id"===o?r.a.createElement("div",{className:i.fakelink,onClick:function(){return a({model:s,id:c})}},c):c));var c,o,s})))}))),r.a.createElement(sa.a,null,r.a.createElement(Ht.a,null,r.a.createElement(ua.a,{rowsPerPageOptions:_a,count:-1,colSpan:3,rowsPerPage:f,page:u,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){m(t)},onChangeRowsPerPage:function(e){b(parseInt(e.target.value))},ActionsComponent:Oa}))))))},wa={edit:function(e){var t=e.component,a=e.onCancel,l=e.onSave,i=Ie().editComponent,c=t.options.fields,o=c.map((function(e,t){return e.enabled?t:void 0})).filter((function(e){return!!e})),s=Object(n.useState)(o),u=Object(E.a)(s,2),m=u[0],d=u[1];return r.a.createElement("div",null,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Editing component"}),r.a.createElement(Fe.a,null,r.a.createElement(pe.a,{gutterBottom:!0},"Fields"),r.a.createElement(S.a,{dense:!1},c&&c.map((function(e,t){return r.a.createElement(T.a,{key:t,value:t,button:!0,onClick:(a=t,function(){var e=m.indexOf(a),t=Object(J.a)(m);-1===e?t.push(a):t.splice(e,1),d(t)})},r.a.createElement(Mt.a,null,r.a.createElement(Rt.a,{edge:"start",checked:-1!==m.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"checkbox-list-label-"}})),r.a.createElement(Wt.a,{primary:e.name,secondary:e.type}),r.a.createElement(Jt.a,null));var a})))),r.a.createElement(We.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:function(){var e=Object.assign({},t);e.options.fields.forEach((function(t,a){e.options.fields[a].enabled=m.includes(a)})),i(e),l()}},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel"))))},new:function(e){var t=e.onCreate,a=e.onCancel,l=ie().integrations,i=Object(n.useState)(),c=Object(E.a)(i,2),o=c[0],s=c[1],u=Object(n.useState)(),m=Object(E.a)(u,2),d=m[0],p=m[1],f=Object.filter(l,(function(e){return"thegraph"===e.type}))[0],b=xe(f.endpoint);if(!b)return r.a.createElement(xt,null);return r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Adding Data Table"}),r.a.createElement(Fe.a,null,r.a.createElement(pe.a,{gutterBottom:!0},"Selected data link: ",f.endpoint),r.a.createElement("br",null),o?r.a.createElement(pe.a,{gutterBottom:!0},"Selected model: ",o):r.a.createElement(Ut,{schema:b,onNext:s}),d?r.a.createElement(pe.a,{gutterBottom:!0},"Selected fields: ",d.join(", ")):r.a.createElement(zt,{schema:b,model:o,onNext:p})),r.a.createElement(We.a,null,r.a.createElement(w.a,{disabled:!o||!d,onClick:function(){var e=b.types.find((function(e){return"OBJECT"===e.kind&&e.name===o})),a=Gt(o,b),n=function(e,t){var a=t.types.find((function(e){return"OBJECT"===e.kind&&"Query"===e.name})).fields.find((function(t){return"NON_NULL"===t.type.kind&&t.type.ofType&&"LIST"===t.type.ofType.kind&&"NON_NULL"===t.type.ofType.ofType.kind&&"OBJECT"===t.type.ofType.ofType.ofType.kind&&t.type.ofType.ofType.ofType.name===e}));return a?a.name:void 0}(o,b),r=e.fields.map((function(e,t){var a=e.description,n=e.name,r=d.includes(e.name),l=Vt(e);return l.description=a,l.name=n,l.order=t,l.enabled=r,l}));t({type:"datatable",options:{typeName:o,fields:r,singleQuery:a,listQuery:n},data_source:{type:f.type,endpoint:f.endpoint}})}},"Create Data Table"),r.a.createElement(w.a,{onClick:a},"Cancel")))},preview:function(e){var t=e.component;return r.a.createElement("div",null,r.a.createElement(pe.a,null,"Data source: ",t.data_source.endpoint),r.a.createElement(pe.a,null,"Type: ",t.options.typeName),r.a.createElement(pe.a,null,"Fields: ",t.options.fields.map((function(e){return e.name})).join(" ")))},show:function(e){var t,a=e.component,l=function(e,t){var a=r.a.useContext(ae).state.integrations,n=a[Object.keys(Object.filter(a,(function(a){return a.type===e&&a.endpoint===t})))[0]];if(n&&n.__connected)return n}(a.data_source.type,a.data_source.endpoint),i=Object(n.useState)(),c=Object(E.a)(i,2),o=c[0],s=c[1],u=void 0!==o&&o.model!==a.options.typeName,m=xe(u?l.endpoint:void 0);if(o){if(!m&&u)return r.a.createElement(xt,null);var d=u?Gt(o.model,m):a.options.singleQuery,p=u?(t=o.model,m.types.find((function(e){return"OBJECT"===e.kind&&e.name===t})).fields.map((function(e){return Vt(e)}))):a.options.fields;return r.a.createElement(ia,{model:d,id:o.id,fields:p,graph_client:l.__instance,schema:m,onCancel:function(){s(void 0)},setSelectedQuery:s})}return r.a.createElement(Ta,{component:a,setSelectedQuery:s,graph_client:l.__instance})}},Ca=a(186),Sa=a.n(Ca),xa=Object(M.a)((function(e){return{root:{}}})),Aa=[{value:"markdown",label:"Text",components:{new:function(e){e.component;var t=e.onCancel,a=e.onCreate,n=Object(be.useForm)({fields:[{name:"content",label:"Content"}],submit:function(e){a({type:"markdown",content:e.get("content")}),t()}}),l=Object(E.a)(n,2),i=l[0],c=l[1];return r.a.createElement("div",null,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Add text component"}),r.a.createElement(Fe.a,null,r.a.createElement(fe.a,Object.assign({},i.content,{multiline:!0,rowsMax:"20"}))),r.a.createElement(We.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:c.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:t},"Cancel"))))},edit:function(e){var t=e.component,a=e.onCancel,n=e.onSave,l=Ie().editComponent,i=Object(Nt.fromJS)({content:t.content}),c=Object(be.useForm)({fields:[{name:"content",label:"Content"}],initialValues:i,submit:function(e){l({__id:t.__id,content:e.get("content")}),n()}}),o=Object(E.a)(c,2),s=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Editing component"}),r.a.createElement(Fe.a,null,r.a.createElement(fe.a,Object.assign({},s.content,{multiline:!0,fullWidth:!0,rowsMax:"20"}))),r.a.createElement(We.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:u.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel"))))},preview:function(e){var t=e.component,a=t.content.split("\n"),n=a.slice(0,Math.min(a.length,5)).join("\n");return r.a.createElement("div",null,r.a.createElement(pe.a,null,r.a.createElement("strong",null,t.title)),r.a.createElement(Sa.a,{source:n}),r.a.createElement(pe.a,null,r.a.createElement("strong",null,"...")))},show:function(e){var t=e.component,a=xa();return r.a.createElement("div",{className:a.root},r.a.createElement(Sa.a,{source:t.content}))}}},{value:"datatable",label:"TheGraph data table",components:wa},{value:"web3transaction",label:"Web3 Transaction",components:Dt},{value:"web3call",label:"Web3 Call",components:Ft}];function Ia(e,t){var a=Aa.find((function(t){return t.value===e}));if(!a)throw new Error("Unknown component type");var n=a.components[t];if(!n)throw new Error('No component for "'.concat(e,'" "').concat(t,'"'));return n}function Na(e,t){var a=[];return Object.keys(e).forEach((function(n){var r=e[n];((r.layout||rn).column||1)===t&&a.push(r)})),a.sort((function(e,t){return(e.layout&&e.layout.row||0)-(t.layout&&t.layout.row||0)}))}var Da=a(127),Pa=a.n(Da),La=Object(M.a)((function(e){return{fab:{position:"fixed",top:"auto",left:"auto",margin:0,bottom:e.spacing(2),right:e.spacing(2)}}})),Ba=function(e){var t=e.onClick,a=La(),n=Object(R.a)(),l=Object(_.a)(n.breakpoints.up("lg"),{defaultMatches:!0});return r.a.createElement(D.a,{className:a.fab,size:l?"large":"small",onClick:t},r.a.createElement(Pa.a,null))},Fa=a(735),Ma=a(720),Ra=a(715),Wa=a(721),Ja=a(6),Ga=a(187),Va=a.n(Ga),Ua=a(91),za=a.n(Ua),qa=a(719),Qa=a(717),Ka=a(718),Ha=a(716),$a=a(241),Xa=r.a.forwardRef((function(e,t){return r.a.createElement($a.a,Object.assign({direction:"up",ref:t},e))})),Ya=Object(kt.a)((function(e){return{button:{margin:e.spacing(1)}}})),Za=function(e){var t=e.onConfirm,a=e.title,n=e.description,l=e.children,i=Ya(),c=r.a.useState(!1),o=Object(E.a)(c,2),s=o[0],u=o[1],m=function(){u(!0)},d=function(){u(!1)};return s?r.a.createElement("div",null,r.a.createElement(Ra.a,{open:s,TransitionComponent:Xa,keepMounted:!0,onClose:d,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Ha.a,{id:"alert-dialog-slide-title"},a),r.a.createElement(Qa.a,null,r.a.createElement(Ka.a,{id:"alert-dialog-slide-description"},n)),r.a.createElement(qa.a,null,r.a.createElement(w.a,{onClick:function(){t(),d()},variant:"outlined",color:"secondary",startIcon:r.a.createElement(za.a,null),className:i.button},"Delete"),r.a.createElement(w.a,{onClick:d,variant:"outlined"},"Cancel")))):r.a.Children.map(l,(function(e){return r.a.cloneElement(e,{onClick:m})}))},en=Object(Ja.a)({})(Fa.a);var tn=function(e){var t=0,a=[];return e.forEach((function(e){a.push(e-t),t+=e-t})),t<12&&a.push(12-t),a},an=function(e){var t,a,l=e.page,i=e.onCancel,c=Ie(),o=c.editPage,u=c.deleteComponent,m=se(l.__id),d=Object(n.useState)(),p=Object(E.a)(d,2),f=p[0],b=p[1],y=Object(n.useState)(!1),v=Object(E.a)(y,2),g=v[0],h=v[1];Object(s.g)();l.layout&&l.layout.columns&&Array.isArray(l.layout.columns)?(t=l.layout.columns.length,a=l.layout.columns):(t=1,a=[12]);var O=Object(n.useState)(t),j=Object(E.a)(O,2),k=j[0],_=j[1],T=Object(n.useState)(function(e){var t=[];if(e&&1!==e.length)for(var a=1;a<e.length;a++)t.push(12-e[a]);else t=[12];return t}(a)),S=Object(E.a)(T,2),x=S[0],A=S[1],I=Object(n.useState)(!1),N=Object(E.a)(I,2),D=N[0],P=N[1],L=Object(Nt.fromJS)(l),B=Object(be.useForm)({fields:[{name:"title",label:"title",required:!1}],initialValues:L,submit:function(e){o(Object(G.a)({},l,{title:e.get("title")})),i()}}),F=Object(E.a)(B,2),M=F[0],R=F[1];if(void 0!==f){var W=m[f.__id],J=Ia(W.type,"edit");return r.a.createElement(J,{component:W,onCancel:function(){return b(void 0)},onSave:function(){i()}})}var V=1;Object.keys(m).forEach((function(e){var t=m[e].layout||rn;t.row>V&&(V=t.row)}));var U=tn(x),z=r.a.createElement(C.a,{container:!0,spacing:1},U.map((function(e,t){var a=t+1,n=Na(m,a);return r.a.createElement(C.a,{item:!0,xs:e,key:"col-".concat(a)},r.a.createElement(C.a,{container:!0,spacing:1},n.map((function(e){return r.a.createElement(C.a,{item:!0,xs:12,key:"component-".concat(e.__id)},function(e,t,a){var n=Ia(e.type,"preview");return r.a.createElement(Le.a,{variant:"outlined"},r.a.createElement(Be.a,{title:e.name||e.type}),r.a.createElement(Fe.a,null,r.a.createElement(n,{component:e})),r.a.createElement(We.a,null,r.a.createElement(w.a,{size:"small",startIcon:r.a.createElement(Pa.a,null),onClick:function(){return a(e)}},"Edit"),r.a.createElement(Za,{onConfirm:function(){return t(e)},title:"Delete Component",description:"Delete this component?"},r.a.createElement(gt.a,{edge:"end","aria-label":"delete"},r.a.createElement(za.a,null)))))}(e,u,b))})),r.a.createElement(C.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(Le.a,null,r.a.createElement(Fe.a,null,r.a.createElement(w.a,{color:"primary","aria-label":"Add component in new row",component:"span",startIcon:r.a.createElement(Va.a,null),onClick:function(){return h({column:a,row:n.length+1})}},"Add Component Here"))))))}))),q=function(e){var t=[];if(1==e)t.push(12);else for(var a=1;a<=e-1;a++)t.push(12/e*a);_(e),A(t.sort()),P(!0)},Q=function(){var e=tn(x);o(Object(G.a)({},l,{layout:Object(G.a)({},l.layout,{columns:e})})),i()};return r.a.createElement("div",null,g?r.a.createElement(nn,{page_id:l.__id,column:g.column,row:g.row,preSave:Q,onCancel:function(){return h(!1)}}):void 0,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Page properties"}),r.a.createElement(Fe.a,null,r.a.createElement(fe.a,M.title)),r.a.createElement(We.a,null,r.a.createElement(w.a,{color:"primary",variant:"outlined",onClick:R.submit},"Save"))),r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Layout"}),r.a.createElement(Fe.a,null,r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:4},r.a.createElement(pe.a,null,"Columns"," ",r.a.createElement(Ma.a,{size:"large",color:"primary","aria-label":"large outlined primary button group"},r.a.createElement(w.a,{variant:"outlined",color:1===k?"primary":"default",onClick:function(){return q(1)}},"One"),r.a.createElement(w.a,{variant:"outlined",color:2===k?"primary":"default",onClick:function(){return q(2)}},"Two"),r.a.createElement(w.a,{variant:"outlined",color:3===k?"primary":"default",onClick:function(){return q(3)}},"Three")))),r.a.createElement(C.a,{item:!0,xs:8},r.a.createElement(en,{marks:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"},{value:12,label:"12"}],min:1,max:12,value:x,disabled:1===k,onChange:function(e,t){return A(t),void P(!0)}}))),z)),r.a.createElement(lt.a,{my:4},r.a.createElement(w.a,{variant:"outlined",onClick:i},"Return to Page")," ",r.a.createElement(w.a,{color:"primary",variant:"outlined",disabled:!D,onClick:Q},"Save Layout")))},nn=function(e){var t=e.page_id,a=e.row,n=e.column,l=e.onCancel,i=e.preSave,c=Object(ma.a)(),o=Object(_.a)(c.breakpoints.down("md"));return r.a.createElement(Ra.a,{fullScreen:o,open:!0},r.a.createElement(Wa.a,{fixed:!0},r.a.createElement(Me,{page_id:t,row:a,column:n,preSave:i}),r.a.createElement(w.a,{variant:"outlined",onClick:l},"Cancel")))},rn={row:1,column:1},ln=function(e){var t=e.page,a=se(t.__id),l=Object(n.useState)(!1),i=Object(E.a)(l,2),c=i[0],o=i[1];if(c)return r.a.createElement(an,{page:t,onCancel:function(){return o(!1)}});if(0===Object.keys(a).length)return r.a.createElement("div",null,r.a.createElement(g.a,{severity:"warning"},r.a.createElement(De.a,null,"Page has no components")),r.a.createElement(Me,{page_id:t.__id}));var s=t.layout&&t.layout.columns?t.layout.columns:[12],u=r.a.createElement(C.a,{container:!0,spacing:1},s.map((function(e,t){var n=t+1,l=Na(a,n);return r.a.createElement(C.a,{item:!0,xs:12,lg:e,key:"col-".concat(n)},r.a.createElement(C.a,{container:!0,spacing:1},l.map((function(e){var t=Ia(e.type,"show");return r.a.createElement(C.a,{item:!0,xs:12,key:"component-".concat(e.__id)},r.a.createElement(t,{component:e}))}))))})));return r.a.createElement("div",null,r.a.createElement(pe.a,{variant:"h4"}," ",t.title),r.a.createElement("div",null,u,r.a.createElement(Ba,{onClick:function(){return o(!0)}})))},cn=function(e){var t=e.tab,a=function(e){var t=r.a.useContext(ae).state.pages;return Object.filter(t,(function(t){return t.__tab_id===e}))}(t.__id),n=a&&Object.keys(a).length>0?a[Object.keys(a)[0]]:void 0;return n?r.a.createElement(ln,{page:n}):r.a.createElement(Ne,{tab_id:t.__id})},on=a(336),sn=a.n(on),un=a(189),mn=a.n(un),dn=a(188),pn=a.n(dn),fn=function(){var e=ie(),t=Ie().editTemplate,a=(Object(p.useToasts)().addToast,Object(n.useState)(null)),l=Object(E.a)(a,2),i=l[0],c=l[1],o=Object(Nt.fromJS)({name:e.name}),s=Object(be.useForm)({fields:[{name:"name",label:"Name"}],initialValues:o,submit:function(e){try{t({name:e.get("name")})}catch(a){c(a.toString())}}}),u=Object(E.a)(s,2),m=u[0],d=u[1],f=e.__source.settingsComponent,b=i?r.a.createElement(Tt,{message:i}):void 0;return r.a.createElement("div",null,b,r.a.createElement(pe.a,{variant:"h4",gutterBottom:!0},"Settings"),r.a.createElement(Le.a,null,r.a.createElement(d.Form,null,r.a.createElement(Be.a,{title:"App Template"}),r.a.createElement(Fe.a,null,r.a.createElement(S.a,null,r.a.createElement(T.a,null,r.a.createElement(fe.a,m.name)),r.a.createElement(T.a,null,r.a.createElement(Wt.a,{primary:"Location: ".concat(e.__source.name)})))),r.a.createElement(We.a,null,r.a.createElement(w.a,{vairant:"outlined",color:"primary",type:"submit",onClick:d.submit,disabled:d.getIsPristine()},"Save changes"),r.a.createElement(w.a,{variant:"outlined",startIcon:r.a.createElement(sn.a,null),component:k.a,to:"/_/json"},"Template source JSON"),r.a.createElement(w.a,{variant:"outlined",startIcon:r.a.createElement(mn.a,null),onClick:function(){de(e);var t=me(e),a=JSON.stringify(t,1,"  ");pn()(a,"template.json")}},"Download Template")))),r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Storage settings"}),r.a.createElement(Fe.a,null,r.a.createElement(f,null)),r.a.createElement(We.a,null)))},bn=a(724),yn=a(736),En=a(737),vn=a(337),gn=a.n(vn),hn=Object(M.a)((function(e){return{identicon:{margin:"auto"}}})),On=function(e){var t=e.address,a=e.pixelWidth,l=Object(n.useRef)(),i=hn();return Object(n.useEffect)((function(){t&&l.current&&(l.current.innerHTML="",l.current.appendChild(gn()(a||16,parseInt(t.slice(2,10),16))))})),r.a.createElement("span",{className:i.identicon,ref:l})},jn=a(723),kn=a(340),_n=a.n(kn),Tn=a(193),wn=a(338),Cn=function(e){var t=e.accept,a=e.children,l=e.onFileUpload,i=Object(Re.a)(e,["accept","children","onFileUpload"]),c=Object(n.useState)(null),o=Object(E.a)(c,2),s=o[0],u=o[1],m=Object(n.useState)(null),d=Object(E.a)(m,2),p=(d[0],d[1]),f=Object(n.useState)(null),b=Object(E.a)(f,2),y=(b[0],b[1]),v=Object(n.useState)(!1),g=Object(E.a)(v,2),h=g[0],O=g[1],j=Object(wn.a)((function(e){u(e[0])}),{accept:t,multiple:!1});return Object(n.useEffect)((function(){if(s){var e=new FileReader(s);e.onloadstart=function(){O(!0)},e.onloadend=function(){O(!1)},e.onload=function(e){y(e.target.result),l(e.target.result)},e.onError=function(e){p(e)};try{e.readAsText(s)}catch(t){p(t)}}}),[s]),h?r.a.createElement(xt,null):r.a.createElement(w.a,Object.assign({onClick:j},i),a)},Sn=a(339),xn=a.n(Sn),An=["mainnet","ropsten","kovan","rinkeby","goerli"];function In(e){if(!function(e){return An.indexOf(e)>-1}(e))throw new Error("Unsupported network ".concat(e));return"mainnet"===e?"api":"api-".concat(e)}var Nn=function(){var e=Object(Oe.a)(he.a.mark((function e(t,a){var n,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://".concat(In(a),".etherscan.io/api?module=contract&action=getabi&address=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if("1"!==(r=e.sent).status){e.next=10;break}return e.abrupt("return",r.result);case 10:throw new Error("Failed to fetch ABI from etherscan");case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function Dn(e){var t=Pe.find((function(t){return t.chainId===e}));return"mainnet"===t.id?"etherscan.io":"".concat(t.id,".").concat("etherscan.io")}var Pn=function(e){var t=e.hash,a=e.chainId,n=e.prefix,l=void 0===n?"":n;return r.a.createElement("span",null,l,l.length>0?" ":void 0,r.a.createElement("a",{href:"https://".concat(Dn(a),"/tx/").concat(t),target:"_blank",rel:"noopener noreferrer"},function(e){return"".concat(e.substr(0,6),"...").concat(e.substr(62,4))}(t),r.a.createElement(xn.a,{fontSize:"small"})))},Ln=function(e){return e.startsWith("0x")&&42===e.length?"":"Invalid address"},Bn=Object(kt.a)({avatar:{backgroundColor:Tn.a[100],color:Tn.a[600]}}),Fn=function(e){e.onCancel;var t=Ie().addAddress,a=Object(n.useState)(!1),l=Object(E.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(null),s=Object(E.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(null),f=Object(E.a)(d,2),b=f[0],y=f[1],v=Object(p.useToasts)().addToast,g=Object.keys(Pe).map((function(e){return{value:Pe[e].id,label:Pe[e].name}})),h=Object(Nt.fromJS)({network:"mainnet",fetchabi:!0}),O=Object(be.useForm)({fields:[{name:"name",label:"Name",optional:!0},{name:"address",label:"Address",validate:Ln},{name:"network",label:"Network",type:"select",options:g},{name:"fetchabi",label:"Fetch ABI from Etherscan?",type:"boolean"},{name:"abi",label:"ABI",optional:!0}],initialValues:h,submit:function(){var e=Object(Oe.a)(he.a.mark((function e(a){var n,r,l,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.get("address"),r=a.get("network"),l=a.get("name"),c(!0),e.prev=4,!a.get("fetchabi")){e.next=11;break}return e.next=8,Nn(n,r);case 8:i=e.sent,e.next=12;break;case 11:i=a.get("abi");case 12:t({network:r,address:n,abi:i,name:l}),_.reset(),v("Added address ".concat(l||n),{apperance:"success",autoDismiss:!0,autoDismissTimeout:3e3}),c(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),m(e.t0.toString()),c(!1);case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}()}),j=Object(E.a)(O,2),k=j[0],_=j[1];if(i)return r.a.createElement(xt,null);return r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Add Ethereum address to addressbook"}),r.a.createElement(Fe.a,null,u?r.a.createElement(Tt,{message:u}):void 0,b?r.a.createElement(Mn,{options:b,onSelect:function(e){var t=Pe.find((function(t){return t.chainId==e.chainId}));_.setValue("network",t.id),_.setValue("address",e.address),y(null)}}):void 0,r.a.createElement(_.Form,null,r.a.createElement(fe.a,Object.assign({fullWidth:!0},k.name)),r.a.createElement(qe,Object.assign({fullWidth:!0},k.network)),r.a.createElement(fe.a,Object.assign({fullWidth:!0},k.address)),r.a.createElement(jn.a,{control:r.a.createElement(Rt.a,k.fetchabi),label:k.fetchabi.label}),r.a.createElement(A.a,{in:!k.fetchabi.value},r.a.createElement(fe.a,Object.assign({multiline:!0,fullWidth:!0},k.abi))),r.a.createElement(w.a,{type:"submit",variant:"outlined",color:"primary",onClick:_.submit},"Submit")," ",r.a.createElement(Cn,{variant:"outlined",onFileUpload:function(e){var t=JSON.parse(e),a=Object.keys(t.networks).map((function(e){return{chainId:e,address:t.networks[e].address}}));if(_.setValue("fetchabi",!1),_.setValue("name",t.contractName),_.setValue("abi",JSON.stringify(t.abi)),1===a.length){var n=Pe.find((function(e){return e.chainId==a[0].chainId}));_.setValue("network",n.id),_.setValue("address",a[0].address)}else a.length>1&&y(a)}},"Upload Truffle build .json"))))},Mn=function(e){var t=e.options,a=e.onSelect,n=Bn();return r.a.createElement(Ra.a,{"aria-labelledby":"simple-dialog-title",open:!0},r.a.createElement(Ha.a,{id:"simple-dialog-title"},"Select Deployed Contract"),r.a.createElement(S.a,null,t.map((function(e){var t=Pe.find((function(t){return t.chainId==e.chainId}));if(t)return r.a.createElement(T.a,{button:!0,onClick:function(){a(e)},key:e.chainId},r.a.createElement(bn.a,null,r.a.createElement(yn.a,{className:n.avatar},r.a.createElement(_n.a,null))),r.a.createElement(Wt.a,{primary:t.name,secondary:e.address}))}))))},Rn=Object(M.a)((function(e){return{identicon:{height:100,width:100}}})),Wn=function(){var e=Rn(),t=ie().addresses,a=Ie().deleteAddress,n=0===t.length?r.a.createElement("div",null,"No Addresses.  Add one below"):void 0;return r.a.createElement("div",null,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Addresses"}),r.a.createElement(Fe.a,null,n,r.a.createElement(S.a,{dense:!1},t&&t.map((function(t){return r.a.createElement(T.a,{key:t.address},r.a.createElement(bn.a,null,r.a.createElement(yn.a,null,r.a.createElement(On,{address:t.address,pixelWidth:42,className:e.identicon}))),r.a.createElement(Wt.a,{primary:t.name?r.a.createElement(k.a,{to:"/_/addresses/".concat(t.network,"/").concat(t.address)},t.name):r.a.createElement("span",null,r.a.createElement(k.a,{to:"/_/addresses/".concat(t.network,"/").concat(t.address)},t.address," "),r.a.createElement(En.a,{label:t.network,variant:"outlined",size:"small"})),secondary:t.name?r.a.createElement("span",null,t.address," ",r.a.createElement(En.a,{label:t.network,variant:"outlined",size:"small"})):null}),r.a.createElement(Jt.a,null,r.a.createElement(Za,{onConfirm:function(){return function(e){var t=e.address,n=e.network;a({address:t,network:n})}(t)},title:"Delete Address",description:"Remove address from address book?"},r.a.createElement(gt.a,{edge:"end","aria-label":"delete"},r.a.createElement(za.a,null)))))}))),r.a.createElement(Fn,null))))},Jn=function(e){var t=e.address,a=e.network,n=tt(t,a);if(!n)return null;var l=Object.filter(n.interface.functions,(function(e){return"call"===e.type})),i=Object.keys(l).filter((function(e){return e.indexOf("(")>-1})),c=(Object.filter(n.interface.functions,(function(e){return"transaction"===e.type})),Object.keys(l).filter((function(e){return e.indexOf("(")>-1}))),o=Object.keys(n.interface.events).filter((function(e){return e.indexOf("(")>-1}));return r.a.createElement("div",null,r.a.createElement(pe.a,null,"Contract ABI"),r.a.createElement(lt.a,{my:3},r.a.createElement(pe.a,null,"Call functions"),r.a.createElement(S.a,null,i.map((function(e){return r.a.createElement(T.a,{key:e},e)})))),r.a.createElement(lt.a,{my:3},r.a.createElement(pe.a,null,"Transactions"),r.a.createElement(S.a,null,c.map((function(e){return r.a.createElement(T.a,{key:e},e)})))),r.a.createElement(lt.a,{my:3},r.a.createElement(pe.a,{underline:!0},"Events"),r.a.createElement(S.a,null,o.map((function(e){return r.a.createElement(T.a,{key:e},e)})))))},Gn=function(){var e=Object(s.i)(),t=e.address,a=e.network,n=Object(s.g)(),l=Ie().editAddress,i=oe(t,a),c=Object(Nt.fromJS)(i),o=Object(be.useForm)({fields:[{name:"name",label:"Name",optional:!0}],initialValues:c,submit:function(e){var t=e.get("name");l(Object(G.a)({},i,{name:t})),n.push("/_/addresses")}}),u=Object(E.a)(o,2),m=u[0],d=u[1];return r.a.createElement("div",null,r.a.createElement(pe.a,{variant:"h6"},t," ",r.a.createElement(En.a,{label:a,variant:"outlined",size:"small"})),r.a.createElement(d.Form,null,r.a.createElement(lt.a,{my:2},r.a.createElement(fe.a,Object.assign({fullWidth:!0},m.name))),r.a.createElement(lt.a,{my:2},r.a.createElement(w.a,{type:"submit",onClick:d.submit,variant:"outlined",color:"primary"},"Save"),r.a.createElement(w.a,{component:k.a,to:"/_/addresses",variant:"outlined"},"Cancel"))),r.a.createElement(lt.a,{my:2},r.a.createElement(Jn,{address:t,network:a})))},Vn=function(e){var t=e.onCancel,a=Ie().addIntegration,n=Object(be.useForm)({fields:[{name:"endpoint",label:"Endpoint"}],submit:function(e){a({type:"thegraph",endpoint:e.get("endpoint")})}}),l=Object(E.a)(n,2),i=l[0],c=l[1];return r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"New Integration"}),r.a.createElement(Fe.a,null,r.a.createElement(pe.a,null,"TheGraph"),r.a.createElement(c.Form,null,r.a.createElement(lt.a,{flexDirection:"column"},r.a.createElement(fe.a,i.endpoint)),r.a.createElement(w.a,{type:"submit",onClick:c.submit},"Submit"))),r.a.createElement(We.a,null,r.a.createElement(w.a,{color:"primary"},"Save"),r.a.createElement(w.a,{onClick:t},"Cancel")))},Un=a(341),zn=a.n(Un);function qn(e){switch(e){case"thegraph":return r.a.createElement("a",{href:"http://thegraph.com",target:"_blank",rel:"noopener noreferrer"},"The Graph");default:throw new Error("unknown integration type ".concat(e))}}var Qn=function(){var e=ie().integrations,t=Ie().deleteIntegration,a=Object(n.useState)(!1),l=Object(E.a)(a,2),i=l[0],c=l[1];return r.a.createElement("div",null,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Integrations"}),r.a.createElement(Fe.a,null,r.a.createElement(S.a,{dense:!1},e&&Object.keys(e).map((function(a){return r.a.createElement(T.a,{key:e[a].__id},r.a.createElement(bn.a,null,r.a.createElement(yn.a,{src:zn.a,alt:"The Graph"})),r.a.createElement(Wt.a,{primary:qn(e[a].type),secondary:e[a].endpoint}),r.a.createElement(Jt.a,null,r.a.createElement(Za,{onConfirm:function(){return n=e[a],void t(n);var n},title:"Delete Integration",description:"Delete integration?"},r.a.createElement(gt.a,{edge:"end","aria-label":"delete"},r.a.createElement(za.a,null)))))}))),r.a.createElement(A.a,{in:i},r.a.createElement(Vn,{onCancel:function(){return c(!1)}}))),r.a.createElement(We.a,null,i?void 0:r.a.createElement(w.a,{onClick:function(){return c(!0)}},"Add Integration"))))},Kn=a(343),Hn=a.n(Kn),$n=a(104),Xn=(a(166),a(725)),Yn=function(){var e=Ie().addTab,t=Object(n.useState)(null),a=Object(E.a)(t,2),l=a[0],i=a[1],c=Object(be.useForm)({fields:[{name:"name",label:"Name"}],submit:function(t){try{e({name:t.get("name")})}catch(a){i(a.toString())}}}),o=Object(E.a)(c,2),s=o[0],u=o[1],m=l?r.a.createElement(Tt,{message:l}):void 0;return r.a.createElement("div",null,m,r.a.createElement(u.Form,null,r.a.createElement(fe.a,Object.assign({fullWidth:!0},s.name,{InputProps:{endAdornment:r.a.createElement(Xn.a,{position:"end"},r.a.createElement(w.a,{type:"submit",color:"primary",onClick:u.submit},"Add Tab"))}}))))},Zn=a(342),er=function(e){var t=e.onSelect,a=e.onRemove,n=e.onCancel;return r.a.createElement("div",null,r.a.createElement(Ra.a,{open:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Qa.a,null,r.a.createElement($n.b,{set:"apple",onSelect:t,data:Zn})),r.a.createElement(qa.a,null,r.a.createElement(w.a,{onClick:n},"Cancel"),r.a.createElement(w.a,{onClick:a},"Remove Icon"))))},tr=function(e){var t=e.tab,a=e.onCancel,l=Ie(),i=l.editTab,c=l.deleteTab,o=Object(n.useState)(!1),s=Object(E.a)(o,2),u=s[0],m=s[1],d=Object(Nt.fromJS)(t),p=Object(be.useForm)({fields:[{name:"name",label:"Name"},{name:"slug",label:"URL Slug"}],initialValues:d,submit:function(e){i(Object(G.a)({},t,{name:e.get("name"),slug:e.get("slug")})),a()}}),f=Object(E.a)(p,2),b=f[0],y=f[1],v=u?r.a.createElement(er,{onSelect:function(e){var a=Object.assign({},t,{icon:e.id});i(a),m(!1)},onRemove:function(){var e=Object.assign({},t,{icon:void 0});i(e),m(!1)},onCancel:function(){m(!1)}}):void 0,g=t.icon?r.a.createElement("span",null,"Icon:"," ",r.a.createElement($n.a,{emoji:t.icon,size:32,set:"apple"})):"Select icon";return r.a.createElement("div",null,v,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Editing tab"}),r.a.createElement(y.Form,null,r.a.createElement(Fe.a,null,r.a.createElement(w.a,{onClick:function(){return m(!0)}},g),r.a.createElement(fe.a,Object.assign({fullWidth:!0},b.name)),r.a.createElement(fe.a,Object.assign({fullWidth:!0},b.slug))),r.a.createElement(We.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",type:"submit",onClick:y.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel"),r.a.createElement("br",null),r.a.createElement(Za,{onConfirm:function(){return function(e){c(e),a()}(t)},title:"Delete Tab",description:'Delete tab "'.concat(t.name,'"?')},r.a.createElement(w.a,{variant:"outlined"},"Delete Tab"))))))};function ar(e,t){for(var a=Object.keys(e),n=0;n<a.length;n++)if(e[a[n]].__id===t)return e[a[n]]}var nr=function(){var e=ie().tabs,t=Ie().editTab,a=Object(n.useState)(),l=Object(E.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(),s=Object(E.a)(o,2),u=s[0],m=s[1];if(void 0!==u){var d=ar(e,u);return r.a.createElement(tr,{tab:d,onCancel:function(){return m(void 0)}})}var p=void 0!==i?r.a.createElement(er,{onSelect:function(a){var n=ar(e,i),r=Object.assign({},n,{icon:a.id});t(r),c(void 0)},onRemove:function(){var a=ar(e,i),n=Object.assign({},a,{icon:void 0});t(n),c(void 0)},onCancel:function(){c(void 0)}}):void 0;return r.a.createElement("div",null,p,r.a.createElement(Le.a,null,r.a.createElement(Be.a,{title:"Tabs"}),r.a.createElement(Fe.a,null,r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,md:8},r.a.createElement(S.a,{dense:!1},Object.keys(e).map((function(t){return r.a.createElement(T.a,{key:e[t].__id},r.a.createElement(bn.a,{onClick:function(){return c(e[t].__id)}},e[t].icon?r.a.createElement($n.a,{emoji:e[t].icon,size:32,set:"apple"}):r.a.createElement(Hn.a,null)),r.a.createElement(Wt.a,{primary:e[t].name,secondary:r.a.createElement(k.a,{to:"/".concat(e[t].slug)},"/".concat(e[t].slug))}),r.a.createElement(Jt.a,null,r.a.createElement(gt.a,{edge:"end","aria-label":"delete",onClick:function(){return m(e[t].__id)}},r.a.createElement(Pa.a,null))))})),r.a.createElement(T.a,null,r.a.createElement(bn.a,null,r.a.createElement(Va.a,null)),r.a.createElement(Wt.a,null,r.a.createElement(Yn,null))))),r.a.createElement(C.a,{item:!0,xs:12,md:4},r.a.createElement(pe.a,null,"Tabs defined the navigation of your interface."),r.a.createElement(pe.a,null,"Each tab will appear in the navigation bar on the left."),r.a.createElement(pe.a,null,"A tab can have multiple pages."))))))},rr=a(247),lr=a.n(rr),ir=function(){var e=me(ie()),t=JSON.stringify(e,1,"  ");return r.a.createElement("div",null,r.a.createElement(w.a,{component:k.a,to:"/_/settings",variant:"outlined"},r.a.createElement(lr.a,null)," ","Back"),r.a.createElement(w.a,{variant:"outlined",onClick:function(){pn()(t,"template.json")},startIcon:r.a.createElement(mn.a,null)},"Download Template JSON"),r.a.createElement("pre",null,t),r.a.createElement("br",null),r.a.createElement(w.a,{component:k.a,to:"/_/settings",variant:"outlined",startIcon:r.a.createElement(lr.a,null)},"Back"))},cr=function(){return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/_/tabs",component:nr}),r.a.createElement(s.b,{exact:!0,path:"/_/integrations",component:Qn}),r.a.createElement(s.b,{exact:!0,path:"/_/addresses/:network/:address",component:Gn}),r.a.createElement(s.b,{exact:!0,path:"/_/addresses",component:Wn}),r.a.createElement(s.b,{path:"/_/json",component:ir}),r.a.createElement(s.b,{path:"/_/settings",component:fn}))},or=function(){var e=ie(),t=e.tabs[Object.keys(e.tabs)[0]];return r.a.createElement(s.d,null,e.tabs&&Object.keys(e.tabs).map((function(t,a){return r.a.createElement(s.b,{exact:!0,key:t,path:"/".concat(e.tabs[t].slug),render:function(){return r.a.createElement(cn,{tab:e.tabs[t]})}})})),r.a.createElement(s.b,{path:"/_",component:cr}),r.a.createElement(s.b,{path:"/",render:function(){return r.a.createElement(s.a,{to:"/".concat(t.slug)})}}))},sr=a(248),ur=Object(M.a)((function(e){return{chip:{position:"absolute",top:e.spacing(2),right:e.spacing(2)},identicon:{marginLeft:6,marginTop:4},snacks:{top:e.spacing(8)}}})),mr=function(){var e=ur(),t=Object(d.b)().account;return t?r.a.createElement("div",null,r.a.createElement(dt,null),r.a.createElement(pt,null),r.a.createElement(En.a,{className:e.chip,label:"".concat(t.substr(0,6),"...").concat(t.substr(38,4)),avatar:r.a.createElement("span",{className:e.identicon},r.a.createElement(On,{address:t}))}),r.a.createElement(sr.SnackbarProvider,{anchorOrigin:{vertical:"top",horizontal:"right"},preventDuplicate:!0,className:e.snacks},r.a.createElement(dr,null))):r.a.createElement("div",null,r.a.createElement(En.a,{className:e.chip,label:"Connect web3 wallet"}))},dr=function(){var e=Object(sr.useSnackbar)(),t=e.enqueueSnackbar,a=e.closeSnackbar,l=mt();return Object(n.useEffect)((function(){Object.keys(l).forEach((function(e){var n=l[e];!!n.receipt?(a(e),t(r.a.createElement(Pn,{hash:e,chainId:n.chainId,prefix:"Confirmed:"}),{variant:"success",persist:!0,key:"".concat(e,"-confirmed")})):t(r.a.createElement(Pn,{hash:e,chainId:n.chainId,prefix:"Pending:"}),{variant:"info",persist:!0,key:e})}))}),[l]),null},pr=Object(M.a)((function(e){return{root:{display:"flex",height:"100%"},drawer:Object(j.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},content:{height:"100%",flexGrow:1,padding:e.spacing(3)},navlist:{backgroundColor:e.palette.white,flexDirection:"column",height:"100%",padding:e.spacing(2)},divider:{margin:e.spacing(2,0)},nav:{marginBottom:e.spacing(2)},item:{display:"flex",paddingTop:0,paddingBottom:0,marginTop:"auto"},settingsItem:{color:e.palette.text.disabled,padding:"10px 4px",justifyContent:"flex-start",textTransform:"none",letterSpacing:0,width:"100%",fontWeight:e.typography.fontWeightMedium},button:{padding:"10px 8px",justifyContent:"flex-start",textTransform:"none",letterSpacing:0,width:"100%",fontWeight:e.typography.fontWeightMedium},icon:{color:e.palette.icon,width:24,height:24,display:"flex",alignItems:"center",marginRight:e.spacing(1)},active:{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"& $icon":{color:e.palette.primary.main}},fab:{position:"fixed",top:"auto",right:"auto",margin:0,bottom:e.spacing(2),left:e.spacing(2)}}})),fr=Object(n.forwardRef)((function(e,t){return r.a.createElement(k.b,Object.assign({innerRef:t},e))})),br=[{name:"Tabs",route:"tabs",icon:F.a},{name:"Integrations",route:"integrations",icon:F.a},{name:"Address book",route:"addresses",icon:F.a}],yr=function(e){var t=e.children,a=Object(R.a)(),l=pr(a),i=Object(s.h)(),c=i.pathname,o=Object(_.a)(a.breakpoints.up("lg"),{defaultMatches:!0}),u=ie(),m=Object(n.useState)(!1),d=Object(E.a)(m,2),p=d[0],f=d[1],b=function(){f(!p)};Object(n.useEffect)((function(){o||f(!1)}),[i]);var y=c.startsWith("/_"),v=void 0!==window?function(){return window.document.body}:void 0,g=r.a.createElement("div",null,r.a.createElement(C.a,{container:!0,style:{height:"100%"}},r.a.createElement(C.a,{item:!0,xs:12,style:{marginBottom:"auto"}},r.a.createElement(S.a,null,u.tabs&&Object.keys(u.tabs).map((function(e,t){return r.a.createElement(T.a,{className:l.item,key:"/".concat(u.tabs[e].slug),disableGutters:!0},r.a.createElement(w.a,{activeClassName:l.active,className:l.button,component:fr,to:"/".concat(u.tabs[e].slug)},r.a.createElement("div",{className:l.icon},u.tabs[e].icon?r.a.createElement($n.a,{emoji:u.tabs[e].icon,size:24,set:"apple"}):void 0),u.tabs[e].name))})))),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(S.a,{className:l.list,style:{marginTop:"auto"}},r.a.createElement(x.a,null),r.a.createElement(T.a,{className:Object(W.default)(l.item,l.settings,y?void 0:l.settingsItem),disableGutters:!0},r.a.createElement(w.a,{className:Object(W.default)(l.button,y?void 0:l.settingsItem),component:k.a,to:"/_/settings"},r.a.createElement("div",{className:Object(W.default)(l.icon,l.settingsItem)},r.a.createElement(F.a,null)),"Settings")),r.a.createElement(A.a,{in:y},br.map((function(e){return r.a.createElement(T.a,{className:l.subitem,key:e.name},r.a.createElement(w.a,{className:Object(W.default)(l.button,y?void 0:l.settingsItem),component:k.a,to:"/_/".concat(e.route)},r.a.createElement("div",{className:l.icon}),e.name))})))))));return r.a.createElement("div",{className:l.root},r.a.createElement("nav",{className:l.drawer,"aria-label":"Navigation"},r.a.createElement(I.a,{smUp:!0,implementation:"css"},r.a.createElement(N.a,{container:v,variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:p,onClose:b,classes:{paper:l.drawerPaper},ModalProps:{keepMounted:!0}},g)),r.a.createElement(I.a,{xsDown:!0,implementation:"css"},r.a.createElement(N.a,{classes:{paper:l.drawerPaper},variant:"permanent",open:!0},g))),r.a.createElement("main",{className:l.content},r.a.createElement(mr,null),t),r.a.createElement(I.a,{smUp:!0,implementation:"css"},r.a.createElement(D.a,{className:l.fab,color:"primary",size:"small",onClick:b},r.a.createElement(L.a,null)),";"))},Er=a(190),vr=function(e){var t=e.children,a=e.storage,l=ie(),i=Object(n.useState)(!1),c=Object(E.a)(i,2),o=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(E.a)(u,2),p=m[0],f=m[1],b=l.integrations,y=Ie(),v=y.loadAppTemplate,g=y.connectIntegration,h=Z().loadSettings,O=Object(d.b)().activate,j=function(){var e=Object(d.b)(),t=e.activate,a=e.active,r=(e.chainId,e.library,Object(n.useState)(!1)),l=Object(E.a)(r,2),i=l[0],c=l[1];return Object(n.useEffect)((function(){et.isAuthorized().then((function(e){e?t(et,void 0,!0).catch((function(e){console.warn(e),c(!0)})):c(!0)}))}),[]),Object(n.useEffect)((function(){!i&&a&&c(!0)}),[i,a]),i}();return Object(n.useEffect)((function(){o||(h(),s(!0))}),[o]),Object(n.useEffect)((function(){Object(Oe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.load();case 3:t=e.sent,v(t||Er,a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0.toString());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(n.useEffect)((function(){if(l.__loaded)for(var e=Object.keys(b),t=0;t<e.length;t++){var a=b[e[t]];a.__connected||g(a)}}),[l.__loaded,b]),Object(n.useEffect)((function(){j&&O(et)}),[]),p?r.a.createElement(Tt,{message:p}):l.__loaded&&j?Object.keys(b).map((function(e){return b[e].__connected})).includes(!1)?r.a.createElement(xt,null):r.a.createElement("div",null,t):r.a.createElement(xt,null)},gr=Object(u.a)();function hr(e){var t=new m.a(e);return t.pollingInterval=12e3,t}function Or(e){var t=e.storage;return r.a.createElement(c.a,{theme:y},r.a.createElement(o.a,null),r.a.createElement(s.c,{history:gr},r.a.createElement(Y,null,r.a.createElement(d.a,{getLibrary:hr},r.a.createElement(p.ToastProvider,{components:{Toast:O}},r.a.createElement(st,null,r.a.createElement(le,{storage:t},r.a.createElement(vr,{storage:t},r.a.createElement(yr,null,r.a.createElement(or,null))))))))))}var jr,kr=function(){Z().settings;return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(T.a,null,r.a.createElement(Wt.a,{primary:"File served from local computer. Download template to save changes"}))))},_r=function(){function e(t){Object(Qe.a)(this,e),this.type="http",this.name="HTTP Source",this.httpLocation=t,this.canSave=!1,this.settingsComponent=kr}return Object(Ke.a)(e,[{key:"load",value:function(){var e=Object(Oe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("File load here..."),e.next=3,fetch(this.httpLocation);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(Oe.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("save to http source not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(Oe.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("Delete from http source not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Tr=a(346),wr=a.n(Tr),Cr=a(345),Sr=a.n(Cr),xr=function(){var e=ie(),t=r.a.useContext(ae).state.__source,a=Z(),n=a.settings,l=a.setSetting,i=Ie().loadAppTemplate,c=Object(p.useToasts)().addToast,o=Object(s.g)(),u=function(){var e=Object(Oe.a)(he.a.mark((function e(a){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load(a);case 2:n=e.sent,i(n,t),c("Loaded template ".concat(n.name),{apperance:"success",autoDismiss:!0,autoDismissTimeout:3e3});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=de(e),d=t.getFileList();return r.a.createElement("div",null,r.a.createElement(pe.a,{variant:"h6"},"Templates in Browser storage:"),r.a.createElement(S.a,null,d.map((function(e){return r.a.createElement(T.a,{button:!0,onClick:function(){return u(e)},color:e===m?"primary":"default"},r.a.createElement(Mt.a,null,r.a.createElement(Sr.a,null)),r.a.createElement(Wt.a,null,e))})),d&&0!==d.length?void 0:r.a.createElement(T.a,null,r.a.createElement(Wt.a,null,"No templates in browser storage."))),r.a.createElement(pe.a,{variant:"h6"},"Browser storage settings"),r.a.createElement(S.a,null,r.a.createElement(T.a,{button:!0,onClick:function(){var e;l(e="autosave",!n[e])}},r.a.createElement(Mt.a,null,r.a.createElement(Rt.a,{edge:"start",checked:n.autosave,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"checkbox-list-label-"}})),r.a.createElement(Wt.a,{primary:"Auto-save changes to browser storage"})),r.a.createElement(T.a,{button:!0,onClick:function(){var a=me(e);t.save(a),c("Template saved to localstorage",{apperance:"success",autoDismiss:!0,autoDismissTimeout:3e3})}},r.a.createElement(Mt.a,null,r.a.createElement(wr.a,null)),r.a.createElement(Wt.a,null,"Save template to localstorage")),r.a.createElement(Za,{title:"Delete template from Browser storage",description:"Are you sure you want to delete the template from your browser's localstorage?",onConfirm:function(){t.delete(),i(Er,t),c("Template deleted from browser localstorage",{apperance:"success",autoDismiss:!1}),o.push("/")}},r.a.createElement(T.a,{button:!0},r.a.createElement(Mt.a,null,r.a.createElement(za.a,null)),r.a.createElement(Wt.a,null,"Delete ",r.a.createElement("strong",null,e.name)," from browser storage")))))},Ar=function(){function e(t){Object(Qe.a)(this,e),this.type="browser",this.name="Browser file storage",this.localstoragePrefix=t,this.settingsComponent=xr,this.canSave=!0}return Object(Ke.a)(e,[{key:"load",value:function(){var e=Object(Oe.a)(he.a.mark((function e(t){var a,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t||(a=this.getLastFile()),n=localStorage.getItem(this.lsKey(t||a)),t&&this.setLastFile(t),e.abrupt("return",JSON.parse(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(Oe.a)(he.a.mark((function e(t){var a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=de(t),console.log("Saving .. ",a),localStorage.setItem(this.lsKey(a),JSON.stringify(t)),this.addToFileList(a),this.setLastFile(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(Oe.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem(this.lsKey(t)),this.removeFromFileList(t),this.setLastFile(void 0);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fileList",value:function(){var e=Object(Oe.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getFileList());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lsKey",value:function(e){return"".concat(this.localstoragePrefix,"-").concat(e)}},{key:"getFileList",value:function(){var e=localStorage.getItem(this.lsKey("____filelist"));if(!e)return[];try{return JSON.parse(e)}catch(t){return console.error(t),[]}}},{key:"setFileList",value:function(e){if(!Array.isArray(e))throw new Error("filelist must be array");localStorage.setItem(this.lsKey("____filelist"),e)}},{key:"addToFileList",value:function(e){var t=this.getFileList();t.indexOf(e)>-1||localStorage.setItem(this.lsKey("____filelist"),JSON.stringify([].concat(Object(J.a)(t),[e])))}},{key:"removeFromFileList",value:function(e){var t=this.getFileList().filter((function(t){return t===e}));this.setFileList(t)}},{key:"setLastFile",value:function(e){localStorage.setItem(this.lsKey("____lastfile"),e)}},{key:"getLastFile",value:function(){return localStorage.getItem(this.lsKey("____lastfile"))}}]),e}();switch(window.REACT_APP_ETHERFACE_STORAGE){case"http":jr=new _r(window.REACT_APP_ETHERFACE_TEMPLATE_URL);break;default:jr=new Ar("etherface-file")}i.a.render(r.a.createElement(Or,{storage:jr}),document.querySelector("#root"))}},[[373,1,2]]]);
//# sourceMappingURL=main.4b2895a1.chunk.js.map