(this.webpackJsonpetherface=this.webpackJsonpetherface||[]).push([[0],{187:function(e){e.exports=JSON.parse('{"tabs":[{"name":"Welcome","slug":"welcome","icon":"slightly_smiling_face","pages":[{"title":"This is an Etherface!","layout":{"columns":[10,2]},"components":[{"type":"markdown","content":"Etherface is an open-source UI builder for Ethereum dApps.  Fork it on [Github](https://github.com/johnkozan/etherface).\\n\\n\\nThis is the default example template.   Edit it as you\'d like!  The template is saved to your browser\'s localstorage.  You can download the template JSON file from the [Settings page](/_/settings).   If the app is run from the command line, an existing template file can be specified: `bin/etherface template.json`.\\n\\n\\nIn the future, there will be flows for deploying an Etherface to a static webhosting service, or to be hosted on a decentralized service.\\n\\n\\n\\nA template is made up of the following elements:\\n\\n\\n## Tabs\\n\\nThe navigation tabs to the left.  \\n\\n\\n## Pages\\n\\nEach Tab can have 1 or more pages.    Pages are arranged by columns, either 1, 2 or 3 wide.  The widths of each column can be adjusted.\\nClick the Edit button in the lower right corner to edit the page, and the components on it.\\n\\n\\n## Components\\n\\nEach page can hold multiple UI components.    There are currently a few component types:\\n\\n\\n###  Markdown\\n\\n\\nMarkdown components are basic text components.  In the future you\'ll be able to mix in variables representing values on the Ethereum blockchain.\\n\\n\\n## Integrations\\n\\n\\nConnections to decentralized services.  Currently the only implemented integration type is to [TheGraph](https://thegraph.com).\\n\\n\\n\\n## Address book\\n\\nThe address book is a collection of contract addresses and their ABIs.  If you are developing a dApp using [Truffle Suite](https://trufflesuite.com), you can upload the Truffle build .json files which includes the ABI and deployment address.\\n\\n\\n\\nClick the settings button in the lower left corner to edit [Tabs](/_/tabs), [Integrations](/_/integrations) and the [address book](/_/addresses).\\n"},{"type":"markdown","content":"## This is a second column\\n\\n\\n\\nBelow are examples of Web3 Transactions components.\\n\\nThe first component is a \\"call\\" component which displays a value from the blockchain.\\n\\n\\nThe second component is a contract function call which creates a new transaction.","layout":{"row":1,"column":2}},{"type":"web3call","address":"0xc0dA01a04C3f3E0be433606045bB7017A7323E38","network":"mainnet","signature":"proposalCount()","title":"Compound Governance Proposal Count","description":"","layout":{"row":2,"column":2},"buttonText":""},{"type":"web3transaction","address":"0xc0dA01a04C3f3E0be433606045bB7017A7323E38","network":"mainnet","signature":"castVote(uint256,bool)","title":"Cast Vote","description":"","buttonText":"vote","layout":{"row":3,"column":2}}]}]},{"name":"Compound Accounts Example","slug":"Accounts","icon":"information_desk_person","pages":[{"layout":{"columns":[12]},"components":[{"type":"datatable","options":{"typeName":"Account","fields":[{"name":"id","kind":"SCALAR","type":"ID","description":"User ETH address","order":0,"enabled":false},{"name":"tokens","kind":"LIST","type":"AccountCToken","description":"Array of CTokens user is in","order":1,"enabled":false},{"name":"countLiquidated","kind":"SCALAR","type":"Int","description":"Count user has been liquidated","order":2,"enabled":false},{"name":"countLiquidator","kind":"SCALAR","type":"Int","description":"Count user has liquidated others","order":3,"enabled":false},{"name":"hasBorrowed","kind":"SCALAR","type":"Boolean","description":"True if user has ever borrowed","order":4,"enabled":false},{"name":"health","kind":"SCALAR","type":"BigDecimal","description":"","order":5,"enabled":true},{"name":"totalBorrowValueInEth","kind":"SCALAR","type":"BigDecimal","description":"","order":6,"enabled":true},{"name":"totalCollateralValueInEth","kind":"SCALAR","type":"BigDecimal","description":"","order":7,"enabled":true}],"singleQuery":"account","listQuery":"accounts"},"data_source":{"type":"thegraph","endpoint":"https://api.thegraph.com/subgraphs/name/graphprotocol/compound-v2"},"layout":{"row":2,"column":1}},{"type":"markdown","content":"# Example data table from TheGraph Endpoint\\n\\n\\nThe follow is data pulled from the [Compound V2](https://thegraph.com/explorer/subgraph/graphprotocol/compound-v2) GraphQL endpoint.\\n\\nDrill down to see more account information in detail.","layout":{"row":1,"column":1}}]}]}],"integrations":[{"type":"thegraph","name":"Compound","endpoint":"https://api.thegraph.com/subgraphs/name/graphprotocol/compound-v2"}],"addresses":[{"network":"mainnet","address":"0x4DA681E4713cC8C4fDbE8a1B027AeBE59c4B332E","abi":"","name":"Etherface donation address"},{"network":"mainnet","address":"0xc0dA01a04C3f3E0be433606045bB7017A7323E38","abi":"[{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"timelock_\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"comp_\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"guardian_\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"constructor\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"ProposalCanceled\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"proposer\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"address[]\\",\\"name\\":\\"targets\\",\\"type\\":\\"address[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"values\\",\\"type\\":\\"uint256[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"string[]\\",\\"name\\":\\"signatures\\",\\"type\\":\\"string[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"bytes[]\\",\\"name\\":\\"calldatas\\",\\"type\\":\\"bytes[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"startBlock\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"endBlock\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"string\\",\\"name\\":\\"description\\",\\"type\\":\\"string\\"}],\\"name\\":\\"ProposalCreated\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"ProposalExecuted\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"eta\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"ProposalQueued\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"voter\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"bool\\",\\"name\\":\\"support\\",\\"type\\":\\"bool\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"votes\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"VoteCast\\",\\"type\\":\\"event\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"BALLOT_TYPEHASH\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"DOMAIN_TYPEHASH\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[],\\"name\\":\\"__abdicate\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[],\\"name\\":\\"__acceptAdmin\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"newPendingAdmin\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"eta\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"__executeSetTimelockPendingAdmin\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"newPendingAdmin\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"eta\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"__queueSetTimelockPendingAdmin\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"cancel\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"support\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"castVote\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"support\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"uint8\\",\\"name\\":\\"v\\",\\"type\\":\\"uint8\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"r\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"s\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"castVoteBySig\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"comp\\",\\"outputs\\":[{\\"internalType\\":\\"contract CompInterface\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"execute\\",\\"outputs\\":[],\\"payable\\":true,\\"stateMutability\\":\\"payable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getActions\\",\\"outputs\\":[{\\"internalType\\":\\"address[]\\",\\"name\\":\\"targets\\",\\"type\\":\\"address[]\\"},{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"values\\",\\"type\\":\\"uint256[]\\"},{\\"internalType\\":\\"string[]\\",\\"name\\":\\"signatures\\",\\"type\\":\\"string[]\\"},{\\"internalType\\":\\"bytes[]\\",\\"name\\":\\"calldatas\\",\\"type\\":\\"bytes[]\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"voter\\",\\"type\\":\\"address\\"}],\\"name\\":\\"getReceipt\\",\\"outputs\\":[{\\"components\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"hasVoted\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"support\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"uint96\\",\\"name\\":\\"votes\\",\\"type\\":\\"uint96\\"}],\\"internalType\\":\\"struct GovernorAlpha.Receipt\\",\\"name\\":\\"\\",\\"type\\":\\"tuple\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"guardian\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"name\\":\\"latestProposalIds\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"name\\",\\"outputs\\":[{\\"internalType\\":\\"string\\",\\"name\\":\\"\\",\\"type\\":\\"string\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"proposalCount\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"proposalMaxOperations\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"proposalThreshold\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"proposals\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"proposer\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"eta\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"startBlock\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"endBlock\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"forVotes\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"againstVotes\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"canceled\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"executed\\",\\"type\\":\\"bool\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address[]\\",\\"name\\":\\"targets\\",\\"type\\":\\"address[]\\"},{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"values\\",\\"type\\":\\"uint256[]\\"},{\\"internalType\\":\\"string[]\\",\\"name\\":\\"signatures\\",\\"type\\":\\"string[]\\"},{\\"internalType\\":\\"bytes[]\\",\\"name\\":\\"calldatas\\",\\"type\\":\\"bytes[]\\"},{\\"internalType\\":\\"string\\",\\"name\\":\\"description\\",\\"type\\":\\"string\\"}],\\"name\\":\\"propose\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"queue\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"quorumVotes\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"proposalId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"state\\",\\"outputs\\":[{\\"internalType\\":\\"enum GovernorAlpha.ProposalState\\",\\"name\\":\\"\\",\\"type\\":\\"uint8\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"timelock\\",\\"outputs\\":[{\\"internalType\\":\\"contract TimelockInterface\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"votingDelay\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"votingPeriod\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"}]","name":"Compound Governance"}]}')},328:function(e,t,a){e.exports=a.p+"static/media/thegraph.03df70d0.jpg"},358:function(e,t,a){e.exports=a(597)},364:function(e,t){},366:function(e,t){},427:function(e,t){},429:function(e,t){},471:function(e,t){},472:function(e,t){},474:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=474},597:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),i=a(678),o=a(681),s=a(109),u=a(69),m=a(332),d=a(58),p=a(87),f=a(189),b=a(167),E=Object(b.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:f.a.A400},background:{default:"#fff"}}}),y=a(10),v=a(300),g=a(683);function h(e){return r.a.createElement(g.a,Object.assign({elevation:6,variant:"filled"},e))}var O=function(e){var t=e.appearance,a=e.children,n=e.autoDismissTimeout,l=r.a.useState(!0),c=Object(y.a)(l,2),i=c[0],o=c[1],s=function(e,t){"clickaway"!==t&&o(!1)};return r.a.createElement(v.a,{open:i,autoHideDuration:n,onClose:s},r.a.createElement(h,{onClose:s,severity:t},a))},j=a(36),k=a(34),_=a(672),T=a(606),w=a(605),C=a(649),S=a(645),x=a(679),A=a(298),I=a(686),N=a(680),D=a(153),P=a.n(D),B=a(608),M=a(243),L=a(3),R=a(97),F=a(14),W=a(311),G=a.n(W),J=r.a.createContext();Object.filter=function(e,t){return Object.keys(e).filter((function(a){return t(e[a])})).reduce((function(t,a){return t[a]=e[a],t}),{})};var V={settings:{},__loaded:!1};function U(e){return 0===Object.keys(e).length?0:function(e){var t=0;return Object.keys(e).forEach((function(a){e[a].__id>t&&(t=e[a].__id)})),t}(e)+1}function z(e,t){switch(t.type){case"LOAD_TEMPLATE":var a,n={},r={},l={},c={},i=t.payload,o=i.template,s=i.storage;return o.tabs&&o.tabs.forEach((function(e){var t=U(n);n[t]=Object(F.a)({},e,{__id:t}),e.pages.forEach((function(e){var a=U(r);r[a]=Object(F.a)({},e,{__id:a,__tab_id:t}),e.components.forEach((function(e){var t=U(l);l[t]=Object(F.a)({},e,{__id:t,__page_id:a})})),delete r[a].components})),delete n[t].pages})),o.integrations&&o.integrations.forEach((function(e,t){return c[t]=Object(F.a)({},e,{__id:t,__connected:!1})})),a=o.addresses||[],Object(F.a)({},e,{name:t.payload.name,tabs:n,pages:r,components:l,integrations:c,addresses:a,__loaded:!0,__version:0,__source:s});case"ADD_TAB":var u=U(e.tabs);if(!t.payload.name)throw new Error("Name required");var m=G()(t.payload.name),d=U(e.pages),p={__id:d,__tab_id:u,title:t.payload.title};return Object(F.a)({},e,{tabs:Object(F.a)({},e.tabs,Object(j.a)({},u,Object(F.a)({},t.payload,{__id:u,slug:m}))),pages:Object(F.a)({},e.pages,Object(j.a)({},d,p)),__version:e.__version+1});case"EDIT_TAB":return Object(F.a)({},e,{tabs:Object(F.a)({},e.tabs,Object(j.a)({},t.payload.__id,Object(F.a)({},e.tabs[t.payload.__id],{},t.payload))),__version:e.__version+1});case"DELETE_TAB":return Object(F.a)({},e,{tabs:Object.filter(e.tabs,(function(e){return e.__id!==t.payload.__id})),__version:e.__version+1});case"ADD_PAGE":if(void 0===t.payload.__tab_id)throw new Error("page requires tab id");var f=U(e.pages);return Object(F.a)({},e,{pages:Object(F.a)({},e.pages,Object(j.a)({},f,Object(F.a)({},t.payload,{__id:f}))),__version:e.__version+1});case"EDIT_PAGE":return Object(F.a)({},e,{pages:Object(F.a)({},e.pages,Object(j.a)({},t.payload.__id,Object(F.a)({},e.pages[t.payload.__id],{},t.payload))),__version:e.__version+1});case"ADD_INTEGRATION":var b=U(e.integrations);return Object(F.a)({},e,{integrations:Object(F.a)({},e.integrations,Object(j.a)({},b,Object(F.a)({},t.payload,{__id:b}))),__version:e.__version+1});case"DELETE_INTEGRATION":return Object(F.a)({},e,{integrations:Object.filter(e.integrations,(function(e){return e.__id!==t.payload.__id})),__version:e.__version+1});case"CONNECT_INTEGRATION":return Object(F.a)({},e,{integrations:Object(F.a)({},e.integrations,Object(j.a)({},t.payload.__id,Object(F.a)({},t.payload,{__connected:!0})))});case"ADD_COMPONENT":if(void 0===t.payload.__page_id)throw new Error("Page id required on component");var E=U(e.components);return Object(F.a)({},e,{components:Object(F.a)({},e.components,Object(j.a)({},E,Object(F.a)({},t.payload,{__id:E}))),__version:e.__version+1});case"EDIT_COMPONENT":return Object(F.a)({},e,{components:Object(F.a)({},e.components,Object(j.a)({},t.payload.__id,Object(F.a)({},e.components[t.payload.__id],{},t.payload))),__version:e.__version+1});case"DELETE_COMPONENT":return Object(F.a)({},e,{components:Object.filter(e.components,(function(e){return e.__id!==t.payload.__id})),__version:e.__version+1});case"ADD_ADDRESS":return Object(F.a)({},e,{addresses:[].concat(Object(R.a)(e.addresses),[t.payload]),__version:e.__version+1});case"EDIT_ADDRESS":return Object(F.a)({},e,{addresses:e.addresses.map((function(e){return e.address!==t.payload.address&&e.network!==t.payload.network?e:Object(F.a)({},e,{},t.payload)})),__version:e.__version+1});case"DELETE_ADDRESS":return Object(F.a)({},e,{addresses:e.addresses.filter((function(e){return e.address!==t.payload.address&&e.network!==t.payload.network})),__version:e.__version+1});case"LOAD_SETTINGS":return Object(F.a)({},e,{settings:t.payload});case"SET_SETTING":return Object(F.a)({},e,{settings:Object(F.a)({},e.settings,Object(j.a)({},t.payload.setting,t.payload.value))});default:return e}}var q=function(e){var t=e.children,a=e.storage,l=r.a.useReducer(z,V),c=Object(y.a)(l,2),i=c[0],o=c[1],s=Object(p.useToasts)().addToast;return Object(n.useMemo)((function(){i.__version&&i.__version>0&&i.settings.autosave&&function(){var e=Z(i);a.save(e),s("Autosaved to ".concat(a.name),{apperance:"success",autoDismiss:!0,autoDismissTimeout:3e3})}()}),[i.__version]),r.a.createElement(J.Provider,{value:{state:i,dispatch:o}},t)},Q=function(){return r.a.useContext(J).state},H=function(){return r.a.useContext(J).state.addresses.filter((function(e){return!!e.abi}))},X=function(e,t){return r.a.useContext(J).state.addresses.find((function(a){return a.address===e&&a.network===t}))},K=function(e){var t=r.a.useContext(J).state.components;return Object.filter(t,(function(t){return t.__page_id===e}))},Y=function(){return r.a.useContext(J).state.settings};function $(e){var t=Object.assign({},e);return Object.keys(e).forEach((function(e){"__"===e.substr(0,2)&&delete t[e]})),t}function Z(e){var t={tabs:[],integrations:[],addresses:[]};return Object.keys(e.tabs).forEach((function(a){var n=Object(F.a)({},e.tabs[a],{pages:[]}),r=Object.filter(e.pages,(function(e){return e.__tab_id===n.__id}));Object.keys(r).forEach((function(t){var a=r[t];a.components=[];var l=Object.filter(e.components,(function(e){return e.__page_id===a.__id}));Object.keys(l).forEach((function(t){a.components.push($(e.components[t]))})),n.pages.push($(a))})),t.tabs.push($(n))})),Object.keys(e.integrations).forEach((function(a){t.integrations.push($(e.integrations[a]))})),t.addresses=Object.keys(e.addresses).map((function(t){return e.addresses[t]})),t}var ee=a(73),te=a(643),ae=a(31),ne=a(9),re=a.n(ne),le=a(47),ce=a(333),ie=a(110),oe=a(67),se=a(317),ue=a(335),me=a(312),de=a.n(me);var pe=function(e){var t=Object(n.useState)({}),a=Object(y.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){Object(le.a)(re.a.mark((function t(){var a;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!r[e]){t.next=2;break}return t.abrupt("return");case 2:return t.t0=JSON,t.next=5,de()(e);case 5:t.t1=t.sent,a=t.t0.parse.call(t.t0,t.t1),l(Object(F.a)({},r,Object(j.a)({},e,a.data.__schema)));case 8:case"end":return t.stop()}}),t)})))()}),[r,e]),e?r[e]:void 0},fe={autosave:{default:!0}},be=function(e,t){return"".concat(e,".options.").concat(t)},Ee=function(){var e={};return Object.keys(fe).forEach((function(t){var a=localStorage.getItem(be(t,"etherface-setting"));null===a&&void 0!==fe[t].default?e[t]=fe[t].default:e[t]=JSON.parse(a)})),e},ye=function(e,t){localStorage.setItem(be(e,"etherface-setting"),JSON.stringify(t))},ve=function(){var e=r.a.useContext(J).dispatch;return{loadAppTemplate:function(t,a){e({type:"LOAD_TEMPLATE",payload:{template:t,storage:a}})},addTab:function(t){e({type:"ADD_TAB",payload:t})},editTab:function(t){e({type:"EDIT_TAB",payload:t})},deleteTab:function(t){e({type:"DELETE_TAB",payload:t})},addPage:function(t){e({type:"ADD_PAGE",payload:t})},editPage:function(t){e({type:"EDIT_PAGE",payload:t})},addIntegration:function(t){e({type:"ADD_INTEGRATION",payload:t})},deleteIntegration:function(t){e({type:"DELETE_INTEGRATION",payload:t})},connectIntegration:function(t){var a=function(e){switch(e){case"thegraph":return function(e){var t=new ce.a,a=new ue.a({credentials:"same-origin",uri:e});return new ie.a({cache:t,link:oe.a.from([Object(se.a)((function(e){var t=e.graphQLErrors,a=e.networkError;console.error(t,a)})),a])})}(t.endpoint);default:throw new Error("Unsupported integration type: ",e)}}(t.type);e({type:"CONNECT_INTEGRATION",payload:Object(F.a)({},t,{__instance:a})})},addComponent:function(t){e({type:"ADD_COMPONENT",payload:t})},editComponent:function(t){e({type:"EDIT_COMPONENT",payload:t})},deleteComponent:function(t){e({type:"DELETE_COMPONENT",payload:t})},addAddress:function(t){e({type:"ADD_ADDRESS",payload:t})},deleteAddress:function(t){e({type:"DELETE_ADDRESS",payload:t})},editAddress:function(t){e({type:"EDIT_ADDRESS",payload:t})},loadSettings:function(){var t=Ee();e({type:"LOAD_SETTINGS",payload:t})},setSetting:function(t,a){ye(t,a),e({type:"SET_SETTING",payload:{setting:t,value:a}})}}},ge=function(e){var t=e.tab_id,a=ve().addPage,n=Object(ae.useForm)({fields:[{name:"title",label:"title"}],submit:function(e){a({title:e.get("title"),__tab_id:t})}}),l=Object(y.a)(n,2),c=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(ee.a,null,"Add page"),r.a.createElement(te.a,Object.assign({},c.title,{autoFocus:!0})),r.a.createElement("br",null),r.a.createElement(w.a,{color:"primary",onClick:i.submit},"Add Page"))},he=a(674),Oe=[{chainId:1,id:"mainnet",name:"Mainnet"},{chainId:3,id:"ropsten",name:"Ropsten"},{chainId:4,id:"rinkeby",name:"Rinkeby"},{chainId:5,id:"goerli",name:"Goerli"},{chainId:42,id:"kovan",name:"Kovan"},{chainId:1337,id:"private",name:"Private chain"},{chainId:5777,id:"ganache",name:"Ganache"}],je=a(646),ke=a(647),_e=a(648),Te=function(e){var t=e.page_id,a=e.row,l=e.column,c=e.preSave,i=Object(n.useState)(),o=Object(y.a)(i,2),s=o[0],u=o[1],m=ve().addComponent,d=K(t);if(s){var p=va(s,"new");return r.a.createElement(p,{onCancel:function(){u(void 0)},onCreate:function(e){var n=Object.assign({},qa);if(a)n.row=a;else{var r=0;Object.keys(d).forEach((function(e){var t=(d[e].layout||qa).row;t>r&&(r=t)})),n.row=r+1}n.column=l||1,c&&c(),m(Object(F.a)({},e,{__page_id:t,layout:n}))}})}return r.a.createElement("div",null,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"New Component"}),r.a.createElement(_e.a,null,r.a.createElement(C.a,{container:!0},ya.map((function(e){return r.a.createElement(C.a,{item:!0,key:e.value,spacing:3},r.a.createElement(je.a,null,r.a.createElement(_e.a,null,r.a.createElement(w.a,{onClick:function(){return u(e.value)}},e.label))))}))))))},we=a(91),Ce=a(651),Se=a(603),xe=a(610),Ae=a(607),Ie=a(650),Ne=a(604),De=function(e){var t=e.label,a=e.error,n=e.value,l=e.helperText,c=(e.children,e.options),i=e.fullWidth,o=Object(we.a)(e,["label","error","value","helperText","children","options","fullWidth"]);return r.a.createElement(Se.a,{fullWidth:i},t&&r.a.createElement(xe.a,{error:a},t),r.a.createElement(Ae.a,Object.assign({value:n},o,{error:a}),c.map((function(e){return r.a.createElement(Ie.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(Ne.a,{error:a},l))},Pe=a(17),Be=a(18),Me=a(21),Le=a(26),Re=a(27),Fe=a(334),We=a(131),Ge=new Fe.a({supportedChainIds:Oe.map((function(e){return e.chainId}))}),Je=function(e,t){var a=X(e,t),r=Object(d.b)(),l=r.library,c=r.account,i=r.active,o=a.abi;return Object(n.useMemo)((function(){if(o){var t=i?new Ue(l.getSigner(c)):We.ethers.getDefaultProvider();return new We.ethers.Contract(e,o,t)}}),[e,t,c,l,i])},Ve=function(){var e=Object(d.b)(),t=e.library,a=e.account;e.active;try{return void 0!==new Ue(t.getSigner(a))}catch(n){return!1}},Ue=function(e){Object(Le.a)(a,e);var t=Object(Re.a)(a);function a(e){var n;return Object(Pe.a)(this,a),n=t.call(this),We.ethers.utils.defineReadOnly(Object(Me.a)(n),"signer",e),We.ethers.utils.defineReadOnly(Object(Me.a)(n),"provider",e.provider),n}return Object(Be.a)(a,[{key:"getAddress",value:function(){return this.signer.getAddress()}},{key:"sendTransaction",value:function(e){var t=this;return this.signer.sendUncheckedTransaction(e).then((function(e){return{hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(a){return t.provider.waitForTransaction(e,a)}}}))}},{key:"signMessage",value:function(e){return this.signer.signMessage(e)}}]),a}(We.ethers.Signer),ze=function(e){var t=e.address,a=e.network,l=e.form,c=e.fields,i=Object(we.a)(e,["address","network","form","fields"]),o=Je(t,a),s=Object.filter(o.interface.functions,(function(e){return"transaction"===e.type||"call"===e.type})),u=[];return Object.keys(s).forEach((function(e){e.indexOf("(")>0&&u.push({value:s[e].signature,label:s[e].signature})})),Object(n.useEffect)((function(){l.addField({name:"function",label:"Function",type:"select",options:u})}),[]),c.function?r.a.createElement(De,Object.assign({},c.function,i)):null},qe=a(682),Qe=Object(n.createContext)(),He={transactions:[],blockNumber:{}};function Xe(e,t){switch(t.type){case"ADD_TX":return Object(F.a)({},e,{transactions:Object(F.a)({},e.transactions,Object(j.a)({},t.payload.hash,t.payload))});case"SET_BLOCK_NUMBER":return Object(F.a)({},e,{blockNumber:Object(F.a)({},e.blockNumber,Object(j.a)({},t.payload.chainId,t.payload.blockNumber))});case"SET_TX_BLOCK_NUM":var a=t.payload,n=a.hash,r=(a.chainId,a.blockNumber);return Object(F.a)({},e,{transactions:Object(F.a)({},e.transactions,Object(j.a)({},n,Object(F.a)({},e.transactions[n],{_checkedBlock:r})))});case"SET_TX_RECEIPT":var l=t.payload,c=l.hash,i=(l.chainId,l.receipt);return Object(F.a)({},e,{transactions:Object(F.a)({},e.transactions,Object(j.a)({},c,Object(F.a)({},e.transactions[c],{receipt:i})))});default:return e}}var Ke=function(e){var t=e.children,a=Object(n.useReducer)(Xe,He),l=Object(y.a)(a,2),c=l[0],i=l[1],o=function(e){i({type:"ADD_TX",payload:e})},s=function(e,t,a){i({type:"SET_TX_BLOCK_NUM",payload:{hash:e,chainId:t,blockNumber:a}})},u=Object(n.useCallback)((function(e,t,a){i({type:"SET_TX_RECEIPT",payload:{hash:e,chainId:t,receipt:a}})}),[]),m=Object(n.useCallback)((function(e,t){i({type:"SET_BLOCK_NUMBER",payload:{chainId:e,blockNumber:t}})}),[]);return r.a.createElement(Qe.Provider,{value:Object(n.useMemo)((function(){return[c,{addTx:o,setTxBlockNumber:s,setTxReceipt:u,setBlockNumber:m}]}),[c,o,s,u,m])},t)},Ye=function(){return Object(n.useContext)(Qe)},$e=function(){var e=Ye();return Object(y.a)(e,1)[0].transactions};function Ze(){var e=Object(d.b)(),t=e.library,a=e.chainId,r=Ye(),l=Object(y.a)(r,2)[1].setBlockNumber;return Object(n.useEffect)((function(){if(t){var e=!1;function n(){t.getBlockNumber().then((function(t){e||l(a,t)})).catch((function(){e||l(a,null)}))}return n(),t.on("block",n),function(){e=!0,t.removeListener("block",n)}}}),[a,t,l]),null}function et(){var e=Object(d.b)(),t=e.chainId,a=e.library,r=Ye(),l=Object(y.a)(r,2)[1],c=l.setTxBlockNumber,i=l.setTxReceipt,o=function(e){var t=Ye();return Object(y.a)(t,1)[0].blockNumber[e]||0}(t),s=$e();return Object(n.useEffect)((function(){if((t||0===t)&&a){var e=!1;return Object.keys(s).forEach((function(n){var r=s[n];r.chainId===t&&(r.receipt||r._checkedBlock!==o&&a.getTransactionReceipt(n).then((function(a){e||(a?i(n,t,a):c(n,t,o))})).catch((function(){c(n,t,o)})))})),function(){e=!0}}}),[t,a,s,o,c,i]),null}var tt=a(644),at=a(320),nt=a.n(at),rt=a(319),lt=a.n(rt),ct=a(641),it=a(257),ot=a(191),st=a(652),ut=a(289),mt=Object(ut.a)((function(e){return{success:{backgroundColor:ot.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:st.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),dt=function(e){var t=e.message,a=Object(n.useState)(!0),l=Object(y.a)(a,2),c=l[0],i=l[1],o=mt(),s=function(e,t){"clickaway"!==t&&i(!1)};return c?r.a.createElement(tt.a,null,r.a.createElement(v.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:c,onClose:s},r.a.createElement(it.a,{className:Object(L.default)(o.error),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar"},r.a.createElement(lt.a,{className:Object(L.default)(o.icon,o.iconVariant)}),t),action:[r.a.createElement(ct.a,{key:"close","aria-label":"close",color:"inherit",onClick:s},r.a.createElement(nt.a,{className:o.icon}))],onClose:s}))):null},pt=a(654),ft=a(653),bt=Object(ut.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Et=function(e){var t=e.variant,a=Object(we.a)(e,["variant"]),n=bt(),l="circle"===t?ft.a:pt.a;return r.a.createElement("div",{className:n.root},r.a.createElement(l,a))},yt=Object(B.a)((function(e){return{root:{},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),vt=function(e){var t=e.result,a=e.onCancel;return r.a.createElement("div",null,"Result: ",t.toString(),r.a.createElement("br",null),r.a.createElement(w.a,{size:"small",onClick:a},"Clear"))},gt=a(30),ht={new:function(e){var t=e.onCreate,a=e.onCancel,n=H(),l=(n||[]).map((function(e){return{value:{network:e.network,address:e.address},label:"".concat(e.name||""," ").concat(e.address," (").concat(e.network,") ")}})),c=Object(ae.useForm)({fields:[{name:"title",label:"Title",optional:!0},{name:"description",label:"Description",optional:!0},{name:"address",label:"Address",type:"select",options:l},{name:"buttonText",label:"Button text",optional:!0}],submit:function(e){var n=e.get("address"),r=n.address,l=n.network;t({type:"web3transaction",address:r,network:l,signature:e.get("function"),title:e.get("title"),description:e.get("description"),buttonText:e.get("buttonText")}),a()}}),i=Object(y.a)(c,2),o=i[0],s=i[1],u=n&&Array.isArray(n)&&0===n.length,m=u?r.a.createElement(g.a,{severity:"warning"},r.a.createElement(k.a,{to:"/_/addresses"},"Add an Ethereum contract to the address book in order to interact with it.")):void 0;return r.a.createElement("div",null,r.a.createElement(s.Form,{disabled:!u},r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"New Web3 Transaction"}),r.a.createElement(_e.a,null,m,r.a.createElement(te.a,Object.assign({fullWidth:!0},o.title)),r.a.createElement(te.a,Object.assign({fullWidth:!0},o.description)),r.a.createElement(De,Object.assign({fullWidth:!0},o.address)),""!==o.address.value?r.a.createElement(ze,Object.assign({},o.function,{address:o.address.value.address,network:o.address.value.network,form:s,fields:o})):void 0,r.a.createElement(te.a,Object.assign({fullWidth:!0},o.buttonText))),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:s.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel")))))},show:function(e){var t=e.component,a=yt(),l=Je(t.address,t.network),c=Ve(),i=Object(d.b)().chainId,o=Ye(),s=Object(y.a)(o,2)[1].addTx,u=Object(n.useState)(),m=Object(y.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)(!1),E=Object(y.a)(b,2),v=E[0],g=E[1],h=Object(n.useState)(null),O=Object(y.a)(h,2),j=O[0],k=O[1],_=l?l.interface.functions[t.signature]:void 0,T=_?_.inputs.map((function(e){return{name:e.name,label:e.name,type:"text"}})):[],C=Object(ae.useForm)({fields:T,submit:function(){var e=Object(le.a)(re.a.mark((function e(a){var n,r,c,o;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("call"!==_.type){e.next=10;break}return n=Object.keys(x).map((function(e){return a.get(e)})),g(!0),e.next=5,l[t.signature].apply(l,Object(R.a)(n));case 5:r=e.sent,f(r),g(!1),e.next=26;break;case 10:if("transaction"!==_.type){e.next=26;break}return c=Object.keys(x).map((function(e){return a.get(e)})),g(!0),e.prev=13,e.next=16,l[t.signature].apply(l,Object(R.a)(c));case 16:o=e.sent,s(Object(F.a)({},o,{chainId:i})),f(o.hash),g(!1),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(13),k(e.t0.toString()),g(!1);case 26:case"end":return e.stop()}}),e,null,[[13,22]])})));return function(t){return e.apply(this,arguments)}}()}),S=Object(y.a)(C,2),x=S[0],A=S[1],I="transaction"===_.type,N=Oe.find((function(e){return e.id===t.network})).chainId!==i?"Connect your wallet to ".concat(t.network):void 0,D=I&&!c?"Web3 wallet required":void 0,P=!!(!l||I&&!c||N||D);return v?r.a.createElement(Et,null):p?r.a.createElement(vt,{signature:t.signature,result:p,onCancel:function(){A.reset(),f(void 0)}}):r.a.createElement(qe.a,{className:a.root},j?r.a.createElement(dt,{message:j}):void 0,r.a.createElement(ee.a,{variant:"h5"},t.title||""),r.a.createElement(ee.a,null,t.description||""),r.a.createElement(A.Form,null,r.a.createElement(qe.a,{flex:"rows"},Object.keys(x).map((function(e){return r.a.createElement(te.a,Object.assign({},x[e],{disabled:P,key:e}))})),r.a.createElement(w.a,{color:"primary",type:"submit",onClick:A.submit,disabled:P},t.buttonText||"Send"),r.a.createElement(Ne.a,null,D,N))))},edit:function(e){var t=e.component,a=e.onCancel,n=e.onSave,l=ve().editComponent,c=Object(gt.fromJS)({description:t.description,buttonText:t.buttonText}),i=Object(ae.useForm)({fields:[{name:"description",label:"Description",type:"text",optional:!0},{name:"buttonText",label:"Button text",type:"text",optional:!0}],initialValues:c,submit:function(e){var a={};Array.from(e,(function(e){var t=Object(y.a)(e,2),n=t[0],r=t[1];return a[n]=r})),l(Object(F.a)({},t,{},a)),n()}}),o=Object(y.a)(i,2),s=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement(u.Form,null,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Edit Web3 component"}),r.a.createElement(_e.a,null,r.a.createElement(ee.a,null,"Address: ",t.address),r.a.createElement("br",null),r.a.createElement(ee.a,null,"Function: ",t.signature),r.a.createElement("br",null),r.a.createElement(te.a,s.description),r.a.createElement("br",null),r.a.createElement(te.a,s.buttonText)),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{color:"primary",variant:"outlined",onClick:u.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel")))))},preview:function(e){var t=e.component;return r.a.createElement("div",null,r.a.createElement(ee.a,null,r.a.createElement("strong",null,t.title)),r.a.createElement(ee.a,null,t.nework," ",t.address," ",t.signature))}},Ot=function(e){var t=e.address,a=e.network,l=e.form,c=e.fields,i=Object(we.a)(e,["address","network","form","fields"]),o=Je(t,a),s=Object.filter(o.interface.functions,(function(e){return"call"===e.type})),u=[];return Object.keys(s).forEach((function(e){e.indexOf("(")>0&&u.push({value:s[e].signature,label:s[e].signature})})),Object(n.useEffect)((function(){l.addField({name:"function",label:"Function",type:"select",options:u})}),[]),c.function?r.a.createElement(De,Object.assign({},c.function,i)):null},jt=Object(B.a)((function(e){return{root:{},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),kt=function(e){var t=e.result;return r.a.createElement("div",null,t.toString())},_t={new:function(e){var t=e.onCreate,a=e.onCancel,n=H(),l=(n||[]).map((function(e){return{value:{network:e.network,address:e.address},label:"".concat(e.name||""," ").concat(e.address," (").concat(e.network,") ")}})),c=Object(ae.useForm)({fields:[{name:"title",label:"Title",optional:!0},{name:"description",label:"Description",optional:!0},{name:"address",label:"Address",type:"select",options:l},{name:"buttonText",label:"Button text",optional:!0}],submit:function(e){var n=e.get("address"),r=n.address,l=n.network;t({type:"web3call",address:r,network:l,signature:e.get("function"),title:e.get("title"),description:e.get("description")}),a()}}),i=Object(y.a)(c,2),o=i[0],s=i[1],u=n&&Array.isArray(n)&&0===n.length,m=u?r.a.createElement(g.a,{severity:"warning"},r.a.createElement(k.a,{to:"/_/addresses"},"Add an Ethereum contract to the address book in order to interact with it.")):void 0;return r.a.createElement("div",null,r.a.createElement(s.Form,{disabled:!u},r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"New Web3 Call"}),r.a.createElement(_e.a,null,m,r.a.createElement(te.a,Object.assign({fullWidth:!0},o.title)),r.a.createElement(te.a,Object.assign({fullWidth:!0},o.description)),r.a.createElement(De,Object.assign({fullWidth:!0},o.address)),""!==o.address.value?r.a.createElement(Ot,Object.assign({},o.function,{address:o.address.value.address,network:o.address.value.network,form:s,fields:o})):void 0),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:s.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel")))))},show:function(e){var t=e.component,a=jt(),l=Je(t.address,t.network),c=(Ve(),Object(d.b)().chainId,Object(n.useState)()),i=Object(y.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)(!0),m=Object(y.a)(u,2),p=(m[0],m[1]),f=Object(n.useState)(null),b=Object(y.a)(f,2),E=b[0];b[1],l&&l.interface.functions[t.signature];Object(n.useEffect)((function(){Object(le.a)(re.a.mark((function e(){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,l[t.signature].apply(l,a);case 3:n=e.sent,s(n),p(!1);case 6:case"end":return e.stop()}}),e)})))()}),[]);Oe.find((function(e){return e.id===t.network})).chainId;var v=o?r.a.createElement(kt,{result:o}):null;return r.a.createElement(qe.a,{className:a.root},E?r.a.createElement(dt,{message:E}):void 0,r.a.createElement(ee.a,{variant:"h5"},t.title||""),r.a.createElement(ee.a,null,t.description||""),r.a.createElement(qe.a,{flex:"rows"},v))},edit:function(e){var t=e.component,a=e.onCancel,n=e.onSave,l=ve().editComponent,c=Object(gt.fromJS)({description:t.description,buttonText:t.buttonText}),i=Object(ae.useForm)({fields:[{name:"description",label:"Description",type:"text",optional:!0},{name:"buttonText",label:"Button text",type:"text",optional:!0}],initialValues:c,submit:function(e){var a={};Array.from(e,(function(e){var t=Object(y.a)(e,2),n=t[0],r=t[1];return a[n]=r})),l(Object(F.a)({},t,{},a)),n()}}),o=Object(y.a)(i,2),s=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement(u.Form,null,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Edit Web3 component"}),r.a.createElement(_e.a,null,r.a.createElement(ee.a,null,"Address: ",t.address),r.a.createElement("br",null),r.a.createElement(ee.a,null,"Function: ",t.signature),r.a.createElement("br",null),r.a.createElement(te.a,s.description),r.a.createElement("br",null),r.a.createElement(te.a,s.buttonText)),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{color:"primary",variant:"outlined",onClick:u.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel")))))},preview:function(e){var t=e.component;return r.a.createElement("div",null,r.a.createElement(ee.a,null,r.a.createElement("strong",null,t.title)),r.a.createElement(ee.a,null,t.nework," ",t.address," ",t.signature))}},Tt=a(655),wt=a(684),Ct=a(656),St=a(657);function xt(e,t){var a=t.types.find((function(e){return"OBJECT"===e.kind&&"Query"===e.name})).fields.find((function(t){return"OBJECT"===t.type.kind&&t.type.name===e}));return a?a.name:void 0}function At(e){return e.type.ofType&&"LIST"===e.type.ofType.kind&&"OBJECT"===e.type.ofType.ofType.ofType.kind?{name:e.name,kind:"LIST",type:e.type.ofType.ofType.ofType.name}:e.type.ofType&&"LIST"===e.type.ofType.kind&&"SCALAR"===e.type.ofType.ofType.ofType.kind?{name:e.name,kind:"SCALAR",type:e.type.ofType.ofType.ofType.name}:"NON_NULL"===e.type.kind?{name:e.name,kind:e.type.ofType.kind,type:e.type.ofType.name}:{name:e.name,kind:e.type.kind,type:e.type.name}}var It=function(e){var t=e.schema,a=e.onNext,l=Object(n.useState)(),c=Object(y.a)(l,2),i=c[0],o=c[1];if(!t)return r.a.createElement(Et,null);var s=t.types.filter((function(e){return"OBJECT"===e.kind&&"__"!==e.name.substr(0,2)&&e.name!==t.queryType.name&&e.name!==t.subscriptionType.name}));return r.a.createElement("div",null,r.a.createElement(ee.a,null,"Select model:"),r.a.createElement(w.a,{disabled:void 0===i,variant:"outlined",color:"primary",onClick:function(){return a(i)}},"Next"),r.a.createElement(S.a,{dense:!0},s.map((function(e){return r.a.createElement(T.a,{key:e.name,selected:e.name===i,onClick:function(){return e.name===i?o(void 0):o(e.name)}},r.a.createElement(Ct.a,{primary:e.name,secondary:e.description}))}))))},Nt=function(e){var t=e.schema,a=e.model,l=e.onNext,c=Object(n.useState)([]),i=Object(y.a)(c,2),o=i[0],s=i[1];if(!a)return r.a.createElement("div",null);var u=t.types.find((function(e){return e.name===a})).fields;return r.a.createElement("div",null,r.a.createElement(ee.a,null,"Select fields:"),r.a.createElement(w.a,{disabled:0===o.length,variant:"outlined",color:"primary",onClick:function(){return l(o)}},"Next"),r.a.createElement(ee.a,{onClick:function(){s(u.map((function(e){return e.name})))}},"Select All"),r.a.createElement(S.a,{dense:!0},u.map((function(e){return r.a.createElement(T.a,{key:e.name,selected:o.includes(e.name),onClick:function(){return function(e){o.includes(e)?s(o.filter((function(t){return t!==e}))):s([e].concat(Object(R.a)(o)))}(e.name)}},r.a.createElement(Ct.a,{primary:e.name,secondary:e.description}))}))))},Dt=a(180),Pt=a(658),Bt=a(659),Mt=a(660),Lt=a(661),Rt=a(322),Ft=a.n(Rt),Wt=a(321),Gt=a.n(Wt),Jt=a(181),Vt=a.n(Jt),Ut=a(188);function zt(){var e=Object(Dt.a)(["\n    query Query {\n      ",'(id: "','") {\n        ',"\n      }\n    }\n  "]);return zt=function(){return e},e}var qt=Object(B.a)((function(e){return{fakelink:{cursor:"pointer",textDecoration:"underline"}}})),Qt=function(e){var t=e.graph_client,a=e.model,l=e.id,c=e.fields,i=e.onCancel,o=e.setSelectedQuery,s=qt(),u=Object(n.useState)({}),m=Object(y.a)(u,2),d=m[0],p=m[1];if(!a)throw new Error("Model name required");var f=Vt()(zt(),a,l,c.map((function(e){return"LIST"===e.kind||"OBJECT"===e.kind?"".concat(e.name," { id }"):e.name})).join("\n")),b=Object(Ut.a)(f,{client:t}),E=b.loading,v=b.error,g=b.data;if(E)return r.a.createElement(Et,null);if(v)return r.a.createElement("div",null,"Error: ",v.toString());var h=function(e){return null===e||"string"===typeof e?e:"object"===typeof e&&e.id&&e.__typename?r.a.createElement("div",{className:s.fakelink,onClick:function(){return o({model:e.__typename,id:e.id})}},e.__typename," - ",e.id):e},O=Object.keys(g[a]).filter((function(e){return"__"!==e.substr(0,2)})),k=g[a];return r.a.createElement("div",null,r.a.createElement(ee.a,{variant:"h5"},a),r.a.createElement(ee.a,{variant:"h6"},l),r.a.createElement(Pt.a,null,r.a.createElement(Bt.a,null,O.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt.a,null,r.a.createElement(Lt.a,null,r.a.createElement("strong",null,e)),r.a.createElement(Lt.a,null,Array.isArray(k[e])?r.a.createElement("div",{className:s.fakelink,onClick:function(){var t;d[t=e]?p(Object(F.a)({},d,Object(j.a)({},t,!1))):p(Object(F.a)({},d,Object(j.a)({},t,!0)))}},k[e].length," ",k[e].length>0?k[e][0].__typename?k[e][0].__typename:"record":void 0,k[e].length>1?"s":void 0,d[e]?r.a.createElement(Gt.a,null):r.a.createElement(Ft.a,null)):h(g[a][e]))),Array.isArray(k[e])&&d[e]?k[e].map((function(e,t){return r.a.createElement(Mt.a,{key:"".concat(e,"-").concat(t)},r.a.createElement(Lt.a,null),r.a.createElement(Lt.a,null,h(e)))})):void 0)})))),r.a.createElement("br",null),r.a.createElement(w.a,{variant:"outlined",onClick:i},"Back"))},Ht=a(662),Xt=a(663),Kt=a(664),Yt=a(685),$t=a(32),Zt=a(238),ea=a.n(Zt),ta=a(240),aa=a.n(ta),na=a(239),ra=a.n(na),la=a(237),ca=a.n(la),ia=Object(ut.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}})),oa=function(e){e.count;var t=e.page,a=e.pageCount,n=e.rowsPerPage,l=e.onChangePage,c=ia(),i=Object($t.a)();return r.a.createElement("div",{className:c.root},r.a.createElement(ct.a,{onClick:function(e){l(e,0)},disabled:0===t,"aria-label":"first page"},"rtl"===i.direction?r.a.createElement(ca.a,null):r.a.createElement(ea.a,null)),r.a.createElement(ct.a,{onClick:function(e){l(e,t-1)},disabled:0===t,"aria-label":"previous page"},"rtl"===i.direction?r.a.createElement(ra.a,null):r.a.createElement(aa.a,null)),r.a.createElement(ct.a,{onClick:function(e){l(e,t+1)},disabled:a<n,"aria-label":"next page"},"rtl"===i.direction?r.a.createElement(aa.a,null):r.a.createElement(ra.a,null)),r.a.createElement(ct.a,{disabled:!0,"aria-label":"last page"},"rtl"===i.direction?r.a.createElement(ea.a,null):r.a.createElement(ca.a,null)))};function sa(){var e=Object(Dt.a)(["\n      query Query {\n        ","(first: ",", skip: ",") {\n          ","\n        }\n      }\n    "]);return sa=function(){return e},e}var ua=Object(B.a)((function(e){return{root:{},submitButton:{},error:{color:"red"},fakelink:{cursor:"pointer",textDecoration:"underline"}}})),ma=[10,25,50],da=function(e){var t=e.component,a=e.setSelectedQuery,l=e.graph_client,c=ua(),i=t.options.fields,o=Object(n.useState)(0),s=Object(y.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(ma[0]),p=Object(y.a)(d,2),f=p[0],b=p[1],E=i.filter((function(e){return"ID"===e.type||e.enabled&&"LIST"!==e.kind})),v=u*f,g=Vt()(sa(),t.options.listQuery,f,v,E.map((function(e){return e.name})).join("\n")),h=Object(Ut.a)(g,{client:l}),O=h.loading,j=h.error,k=h.data;if(O)return r.a.createElement(Et,null);if(j)return r.a.createElement("div",null,"Error: ",j.toString());var _=k[Object.keys(k)[0]];if(_.length<1)return r.a.createElement("div",null,"No data");var T=Object.keys(_[0]).filter((function(e){return"__"!==e.substr(0,2)}));return r.a.createElement("div",{className:c.root},r.a.createElement(Ht.a,null,r.a.createElement(Pt.a,{className:c.table,"aria-label":"table"},r.a.createElement(Xt.a,null,r.a.createElement(Mt.a,null,T.map((function(e,t){return r.a.createElement(Lt.a,{key:"col-".concat(t)},e)})))),r.a.createElement(Bt.a,null,_.map((function(e,t){return r.a.createElement(Mt.a,{key:"row-".concat(t)},T.map((function(n,l){return r.a.createElement(Lt.a,{key:"cell-".concat(t,"-").concat(l)},(i=e[n],o=n,s=e.__typename,"id"===o?r.a.createElement("div",{className:c.fakelink,onClick:function(){return a({model:s,id:i})}},i):i));var i,o,s})))}))),r.a.createElement(Kt.a,null,r.a.createElement(Mt.a,null,r.a.createElement(Yt.a,{rowsPerPageOptions:ma,count:-1,colSpan:3,rowsPerPage:f,page:u,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){m(t)},onChangeRowsPerPage:function(e){b(parseInt(e.target.value))},ActionsComponent:oa}))))))},pa={edit:function(e){var t=e.component,a=e.onCancel,l=e.onSave,c=ve().editComponent,i=t.options.fields,o=i.map((function(e,t){return e.enabled?t:void 0})).filter((function(e){return!!e})),s=Object(n.useState)(o),u=Object(y.a)(s,2),m=u[0],d=u[1];return r.a.createElement("div",null,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Editing component"}),r.a.createElement(_e.a,null,r.a.createElement(ee.a,{gutterBottom:!0},"Fields"),r.a.createElement(S.a,{dense:!1},i&&i.map((function(e,t){return r.a.createElement(T.a,{key:t,value:t,button:!0,onClick:(a=t,function(){var e=m.indexOf(a),t=Object(R.a)(m);-1===e?t.push(a):t.splice(e,1),d(t)})},r.a.createElement(Tt.a,null,r.a.createElement(wt.a,{edge:"start",checked:-1!==m.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"checkbox-list-label-"}})),r.a.createElement(Ct.a,{primary:e.name,secondary:e.type}),r.a.createElement(St.a,null));var a})))),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:function(){var e=Object.assign({},t);e.options.fields.forEach((function(t,a){e.options.fields[a].enabled=m.includes(a)})),c(e),l()}},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel"))))},new:function(e){var t=e.onCreate,a=e.onCancel,l=Q().integrations,c=Object(n.useState)(),i=Object(y.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)(),m=Object(y.a)(u,2),d=m[0],p=m[1],f=Object.filter(l,(function(e){return"thegraph"===e.type}))[0],b=pe(f.endpoint);if(!b)return r.a.createElement(Et,null);return r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Adding Data Table"}),r.a.createElement(_e.a,null,r.a.createElement(ee.a,{gutterBottom:!0},"Selected data link: ",f.endpoint),r.a.createElement("br",null),o?r.a.createElement(ee.a,{gutterBottom:!0},"Selected model: ",o):r.a.createElement(It,{schema:b,onNext:s}),d?r.a.createElement(ee.a,{gutterBottom:!0},"Selected fields: ",d.join(", ")):r.a.createElement(Nt,{schema:b,model:o,onNext:p})),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{disabled:!o||!d,onClick:function(){var e=b.types.find((function(e){return"OBJECT"===e.kind&&e.name===o})),a=xt(o,b),n=function(e,t){var a=t.types.find((function(e){return"OBJECT"===e.kind&&"Query"===e.name})).fields.find((function(t){return"NON_NULL"===t.type.kind&&t.type.ofType&&"LIST"===t.type.ofType.kind&&"NON_NULL"===t.type.ofType.ofType.kind&&"OBJECT"===t.type.ofType.ofType.ofType.kind&&t.type.ofType.ofType.ofType.name===e}));return a?a.name:void 0}(o,b),r=e.fields.map((function(e,t){var a=e.description,n=e.name,r=d.includes(e.name),l=At(e);return l.description=a,l.name=n,l.order=t,l.enabled=r,l}));t({type:"datatable",options:{typeName:o,fields:r,singleQuery:a,listQuery:n},data_source:{type:f.type,endpoint:f.endpoint}})}},"Create Data Table"),r.a.createElement(w.a,{onClick:a},"Cancel")))},preview:function(e){var t=e.component;return r.a.createElement("div",null,r.a.createElement(ee.a,null,"Data source: ",t.data_source.endpoint),r.a.createElement(ee.a,null,"Type: ",t.options.typeName),r.a.createElement(ee.a,null,"Fields: ",t.options.fields.map((function(e){return e.name})).join(" ")))},show:function(e){var t,a=e.component,l=function(e,t){var a=r.a.useContext(J).state.integrations,n=a[Object.keys(Object.filter(a,(function(a){return a.type===e&&a.endpoint===t})))[0]];if(n&&n.__connected)return n}(a.data_source.type,a.data_source.endpoint),c=Object(n.useState)(),i=Object(y.a)(c,2),o=i[0],s=i[1],u=void 0!==o&&o.model!==a.options.typeName,m=pe(u?l.endpoint:void 0);if(o){if(!m&&u)return r.a.createElement(Et,null);var d=u?xt(o.model,m):a.options.singleQuery,p=u?(t=o.model,m.types.find((function(e){return"OBJECT"===e.kind&&e.name===t})).fields.map((function(e){return At(e)}))):a.options.fields;return r.a.createElement(Qt,{model:d,id:o.id,fields:p,graph_client:l.__instance,schema:m,onCancel:function(){s(void 0)},setSelectedQuery:s})}return r.a.createElement(da,{component:a,setSelectedQuery:s,graph_client:l.__instance})}},fa=a(183),ba=a.n(fa),Ea=Object(B.a)((function(e){return{root:{}}})),ya=[{value:"markdown",label:"Text",components:{new:function(e){e.component;var t=e.onCancel,a=e.onCreate,n=Object(ae.useForm)({fields:[{name:"content",label:"Content"}],submit:function(e){a({type:"markdown",content:e.get("content")}),t()}}),l=Object(y.a)(n,2),c=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Add text component"}),r.a.createElement(_e.a,null,r.a.createElement(te.a,Object.assign({},c.content,{multiline:!0,rowsMax:"20"}))),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:i.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:t},"Cancel"))))},edit:function(e){var t=e.component,a=e.onCancel,n=e.onSave,l=ve().editComponent,c=Object(gt.fromJS)({content:t.content}),i=Object(ae.useForm)({fields:[{name:"content",label:"Content"}],initialValues:c,submit:function(e){l({__id:t.__id,content:e.get("content")}),n()}}),o=Object(y.a)(i,2),s=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Editing component"}),r.a.createElement(_e.a,null,r.a.createElement(te.a,Object.assign({},s.content,{multiline:!0,fullWidth:!0,rowsMax:"20"}))),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:u.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel"))))},preview:function(e){var t=e.component,a=t.content.split("\n"),n=a.slice(0,Math.min(a.length,5)).join("\n");return r.a.createElement("div",null,r.a.createElement(ee.a,null,r.a.createElement("strong",null,t.title)),r.a.createElement(ba.a,{source:n}),r.a.createElement(ee.a,null,r.a.createElement("strong",null,"...")))},show:function(e){var t=e.component,a=Ea();return r.a.createElement("div",{className:a.root},r.a.createElement(ba.a,{source:t.content}))}}},{value:"datatable",label:"TheGraph data table",components:pa},{value:"web3transaction",label:"Web3 Transaction",components:ht},{value:"web3call",label:"Web3 Call",components:_t}];function va(e,t){var a=ya.find((function(t){return t.value===e}));if(!a)throw new Error("Unknown component type");var n=a.components[t];if(!n)throw new Error('No component for "'.concat(e,'" "').concat(t,'"'));return n}function ga(e,t){var a=[];return Object.keys(e).forEach((function(n){var r=e[n];((r.layout||qa).column||1)===t&&a.push(r)})),a.sort((function(e,t){return(e.layout&&e.layout.row||0)-(t.layout&&t.layout.row||0)}))}var ha=a(665),Oa=a(126),ja=a.n(Oa),ka=Object(B.a)((function(e){return{fab:{position:"absolute",bottom:e.spacing(4),right:e.spacing(2)}}})),_a=function(e){var t=e.onClick,a=ka();return r.a.createElement(ha.a,{className:a.fab,color:"primary",onClick:t},r.a.createElement(ja.a,null))},Ta=a(687),wa=a(671),Ca=a(666),Sa=a(673),xa=a(6),Aa=a(184),Ia=a.n(Aa),Na=a(90),Da=a.n(Na),Pa=a(670),Ba=a(668),Ma=a(669),La=a(667),Ra=a(235),Fa=r.a.forwardRef((function(e,t){return r.a.createElement(Ra.a,Object.assign({direction:"up",ref:t},e))})),Wa=Object(ut.a)((function(e){return{button:{margin:e.spacing(1)}}})),Ga=function(e){var t=e.onConfirm,a=e.title,n=e.description,l=e.children,c=Wa(),i=r.a.useState(!1),o=Object(y.a)(i,2),s=o[0],u=o[1],m=function(){u(!0)},d=function(){u(!1)};return s?r.a.createElement("div",null,r.a.createElement(Ca.a,{open:s,TransitionComponent:Fa,keepMounted:!0,onClose:d,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(La.a,{id:"alert-dialog-slide-title"},a),r.a.createElement(Ba.a,null,r.a.createElement(Ma.a,{id:"alert-dialog-slide-description"},n)),r.a.createElement(Pa.a,null,r.a.createElement(w.a,{onClick:function(){t(),d()},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Da.a,null),className:c.button},"Delete"),r.a.createElement(w.a,{onClick:d,variant:"outlined"},"Cancel")))):r.a.Children.map(l,(function(e){return r.a.cloneElement(e,{onClick:m})}))},Ja=Object(xa.a)({})(Ta.a);var Va=function(e){var t=0,a=[];return e.forEach((function(e){a.push(e-t),t+=e-t})),t<12&&a.push(12-t),a},Ua=function(e){var t,a,l=e.page,c=e.onCancel,i=ve(),o=i.editPage,u=i.deleteComponent,m=K(l.__id),d=Object(n.useState)(),p=Object(y.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),v=Object(y.a)(E,2),g=v[0],h=v[1];Object(s.g)();l.layout&&l.layout.columns&&Array.isArray(l.layout.columns)?(t=l.layout.columns.length,a=l.layout.columns):(t=1,a=[12]);var O=Object(n.useState)(t),j=Object(y.a)(O,2),k=j[0],_=j[1],T=Object(n.useState)(function(e){var t=[];if(e&&1!==e.length)for(var a=1;a<e.length;a++)t.push(12-e[a]);else t=[12];return t}(a)),S=Object(y.a)(T,2),x=S[0],A=S[1],I=Object(n.useState)(!1),N=Object(y.a)(I,2),D=N[0],P=N[1],B=Object(gt.fromJS)(l),M=Object(ae.useForm)({fields:[{name:"title",label:"title",required:!1}],initialValues:B,submit:function(e){o(Object(F.a)({},l,{title:e.get("title")})),c()}}),L=Object(y.a)(M,2),R=L[0],W=L[1];if(void 0!==f){var G=m[f.__id],J=va(G.type,"edit");return r.a.createElement(J,{component:G,onCancel:function(){return b(void 0)},onSave:function(){c()}})}var V=1;Object.keys(m).forEach((function(e){var t=m[e].layout||qa;t.row>V&&(V=t.row)}));var U=Va(x),z=r.a.createElement(C.a,{container:!0,spacing:1},U.map((function(e,t){var a=t+1,n=ga(m,a);return r.a.createElement(C.a,{item:!0,xs:e,key:"col-".concat(a)},r.a.createElement(C.a,{container:!0,spacing:1},n.map((function(e){return r.a.createElement(C.a,{item:!0,xs:12,key:"component-".concat(e.__id)},function(e,t,a){var n=va(e.type,"preview");return r.a.createElement(je.a,{variant:"outlined"},r.a.createElement(ke.a,{title:e.name||e.type}),r.a.createElement(_e.a,null,r.a.createElement(n,{component:e})),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{size:"small",startIcon:r.a.createElement(ja.a,null),onClick:function(){return a(e)}},"Edit"),r.a.createElement(Ga,{onConfirm:function(){return t(e)},title:"Delete Component",description:"Delete this component?"},r.a.createElement(ct.a,{edge:"end","aria-label":"delete"},r.a.createElement(Da.a,null)))))}(e,u,b))})),r.a.createElement(C.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(je.a,null,r.a.createElement(_e.a,null,r.a.createElement(w.a,{color:"primary","aria-label":"Add component in new row",component:"span",startIcon:r.a.createElement(Ia.a,null),onClick:function(){return h({column:a,row:n.length+1})}},"Add Component Here"))))))}))),q=function(e){var t=[];if(1==e)t.push(12);else for(var a=1;a<=e-1;a++)t.push(12/e*a);_(e),A(t.sort()),P(!0)},Q=function(){var e=Va(x);o(Object(F.a)({},l,{layout:Object(F.a)({},l.layout,{columns:e})})),c()};return r.a.createElement("div",null,g?r.a.createElement(za,{page_id:l.__id,column:g.column,row:g.row,preSave:Q,onCancel:function(){return h(!1)}}):void 0,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Page properties"}),r.a.createElement(_e.a,null,r.a.createElement(te.a,R.title)),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{color:"primary",variant:"outlined",onClick:W.submit},"Save"))),r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Layout"}),r.a.createElement(_e.a,null,r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:4},r.a.createElement(ee.a,null,"Columns"," ",r.a.createElement(wa.a,{size:"large",color:"primary","aria-label":"large outlined primary button group"},r.a.createElement(w.a,{variant:"outlined",color:1===k?"primary":"default",onClick:function(){return q(1)}},"One"),r.a.createElement(w.a,{variant:"outlined",color:2===k?"primary":"default",onClick:function(){return q(2)}},"Two"),r.a.createElement(w.a,{variant:"outlined",color:3===k?"primary":"default",onClick:function(){return q(3)}},"Three")))),r.a.createElement(C.a,{item:!0,xs:8},r.a.createElement(Ja,{marks:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"},{value:12,label:"12"}],min:1,max:12,value:x,disabled:1===k,onChange:function(e,t){return A(t),void P(!0)}}))),z)),r.a.createElement(qe.a,{my:4},r.a.createElement(w.a,{variant:"outlined",onClick:c},"Return to Page")," ",r.a.createElement(w.a,{color:"primary",variant:"outlined",disabled:!D,onClick:Q},"Save Layout")))},za=function(e){var t=e.page_id,a=e.row,n=e.column,l=e.onCancel,c=e.preSave,i=Object($t.a)(),o=Object(_.a)(i.breakpoints.down("md"));return r.a.createElement(Ca.a,{fullScreen:o,open:!0},r.a.createElement(Sa.a,{fixed:!0},r.a.createElement(Te,{page_id:t,row:a,column:n,preSave:c}),r.a.createElement(w.a,{variant:"outlined",onClick:l},"Cancel")))},qa={row:1,column:1},Qa=function(e){var t=e.page,a=K(t.__id),l=Object(n.useState)(!1),c=Object(y.a)(l,2),i=c[0],o=c[1];if(i)return r.a.createElement(Ua,{page:t,onCancel:function(){return o(!1)}});if(0===Object.keys(a).length)return r.a.createElement("div",null,r.a.createElement(g.a,{severity:"warning"},r.a.createElement(he.a,null,"Page has no components")),r.a.createElement(Te,{page_id:t.__id}));var s=t.layout&&t.layout.columns?t.layout.columns:[12],u=r.a.createElement(C.a,{container:!0,spacing:1},s.map((function(e,t){var n=t+1,l=ga(a,n);return r.a.createElement(C.a,{item:!0,xs:e,key:"col-".concat(n)},r.a.createElement(C.a,{container:!0,spacing:1},l.map((function(e){var t=va(e.type,"show");return r.a.createElement(C.a,{item:!0,xs:12,key:"component-".concat(e.__id)},r.a.createElement(t,{component:e}))}))))})));return r.a.createElement("div",null,r.a.createElement(ee.a,{variant:"h4"}," ",t.title),r.a.createElement("div",null,u),r.a.createElement(_a,{onClick:function(){return o(!0)}}))},Ha=function(e){var t=e.tab,a=function(e){var t=r.a.useContext(J).state.pages;return Object.filter(t,(function(t){return t.__tab_id===e}))}(t.__id),n=a&&Object.keys(a).length>0?a[Object.keys(a)[0]]:void 0;return n?r.a.createElement(Qa,{page:n}):r.a.createElement(ge,{tab_id:t.__id})},Xa=a(323),Ka=a.n(Xa),Ya=a(186),$a=a.n(Ya),Za=a(185),en=a.n(Za),tn=function(){var e=Q(),t=(Object(p.useToasts)().addToast,e.__source.settingsComponent);return r.a.createElement("div",null,r.a.createElement(ee.a,{variant:"h4",gutterBottom:!0},"Settings"),r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"App Template"}),r.a.createElement(_e.a,null,r.a.createElement(S.a,null,r.a.createElement(T.a,null,r.a.createElement(Ct.a,{primary:"Name: ".concat(e.name)})),r.a.createElement(T.a,null,r.a.createElement(Ct.a,{primary:"Location: ".concat(e.__source.name)})))),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{variant:"outlined",startIcon:r.a.createElement(Ka.a,null),component:k.a,to:"/_/json"},"Template source JSON"),r.a.createElement(w.a,{variant:"outlined",startIcon:r.a.createElement($a.a,null),onClick:function(){var t=Z(e),a=JSON.stringify(t,1,"  ");en()(a,"template.json")}},"Download Template"))),r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Storage settings"}),r.a.createElement(_e.a,null,r.a.createElement(t,null)),r.a.createElement(Ce.a,null)))},an=a(676),nn=a(688),rn=a(689),ln=a(324),cn=a.n(ln),on=Object(B.a)((function(e){return{identicon:{margin:"auto"}}})),sn=function(e){var t=e.address,a=e.pixelWidth,l=Object(n.useRef)(),c=on();return Object(n.useEffect)((function(){t&&l.current&&(l.current.innerHTML="",l.current.appendChild(cn()(a||16,parseInt(t.slice(2,10),16))))})),r.a.createElement("span",{className:c.identicon,ref:l})},un=a(675),mn=a(327),dn=a.n(mn),pn=a(190),fn=a(325),bn=function(e){var t=e.accept,a=e.children,l=e.onFileUpload,c=Object(we.a)(e,["accept","children","onFileUpload"]),i=Object(n.useState)(null),o=Object(y.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(null),d=Object(y.a)(m,2),p=(d[0],d[1]),f=Object(n.useState)(null),b=Object(y.a)(f,2),E=(b[0],b[1]),v=Object(n.useState)(!1),g=Object(y.a)(v,2),h=g[0],O=g[1],j=Object(fn.a)((function(e){u(e[0])}),{accept:t,multiple:!1});return Object(n.useEffect)((function(){if(s){var e=new FileReader(s);e.onloadstart=function(){O(!0)},e.onloadend=function(){O(!1)},e.onload=function(e){E(e.target.result),l(e.target.result)},e.onError=function(e){p(e)};try{e.readAsText(s)}catch(t){p(t)}}}),[s]),h?r.a.createElement(Et,null):r.a.createElement(w.a,Object.assign({onClick:j},c),a)},En=a(326),yn=a.n(En),vn=["mainnet","ropsten","kovan","rinkeby","goerli"];function gn(e){if(!function(e){return vn.indexOf(e)>-1}(e))throw new Error("Unsupported network ".concat(e));return"mainnet"===e?"api":"api-".concat(e)}var hn=function(){var e=Object(le.a)(re.a.mark((function e(t,a){var n,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://".concat(gn(a),".etherscan.io/api?module=contract&action=getabi&address=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if("1"!==(r=e.sent).status){e.next=10;break}return e.abrupt("return",r.result);case 10:throw new Error("Failed to fetch ABI from etherscan");case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function On(e){var t=Oe.find((function(t){return t.chainId===e}));return"mainnet"===t.id?"etherscan.io":"".concat(t.id,".").concat("etherscan.io")}var jn=function(e){var t=e.hash,a=e.chainId,n=e.prefix,l=void 0===n?"":n;return r.a.createElement("span",null,l,l.length>0?" ":void 0,r.a.createElement("a",{href:"https://".concat(On(a),"/tx/").concat(t),target:"_blank",rel:"noopener noreferrer"},function(e){return"".concat(e.substr(0,6),"...").concat(e.substr(62,4))}(t),r.a.createElement(yn.a,{fontSize:"small"})))},kn=function(e){return e.startsWith("0x")&&42===e.length?"":"Invalid address"},_n=Object(ut.a)({avatar:{backgroundColor:pn.a[100],color:pn.a[600]}}),Tn=function(e){e.onCancel;var t=ve().addAddress,a=Object(n.useState)(!1),l=Object(y.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(null),s=Object(y.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(null),f=Object(y.a)(d,2),b=f[0],E=f[1],v=Object(p.useToasts)().addToast,g=Object.keys(Oe).map((function(e){return{value:Oe[e].id,label:Oe[e].name}})),h=Object(gt.fromJS)({network:"mainnet",fetchabi:!0}),O=Object(ae.useForm)({fields:[{name:"name",label:"Name",optional:!0},{name:"address",label:"Address",validate:kn},{name:"network",label:"Network",type:"select",options:g},{name:"fetchabi",label:"Fetch ABI from Etherscan?",type:"boolean"},{name:"abi",label:"ABI",optional:!0}],initialValues:h,submit:function(){var e=Object(le.a)(re.a.mark((function e(a){var n,r,l,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.get("address"),r=a.get("network"),l=a.get("name"),i(!0),e.prev=4,!a.get("fetchabi")){e.next=11;break}return e.next=8,hn(n,r);case 8:c=e.sent,e.next=12;break;case 11:c=a.get("abi");case 12:t({network:r,address:n,abi:c,name:l}),_.reset(),v("Added address ".concat(l||n),{apperance:"success",autoDismiss:!0,autoDismissTimeout:3e3}),i(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),m(e.t0.toString()),i(!1);case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}()}),j=Object(y.a)(O,2),k=j[0],_=j[1];if(c)return r.a.createElement(Et,null);return r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Add Ethereum address to addressbook"}),r.a.createElement(_e.a,null,u?r.a.createElement(dt,{message:u}):void 0,b?r.a.createElement(wn,{options:b,onSelect:function(e){var t=Oe.find((function(t){return t.chainId==e.chainId}));_.setValue("network",t.id),_.setValue("address",e.address),E(null)}}):void 0,r.a.createElement(_.Form,null,r.a.createElement(te.a,Object.assign({fullWidth:!0},k.name)),r.a.createElement(De,Object.assign({fullWidth:!0},k.network)),r.a.createElement(te.a,Object.assign({fullWidth:!0},k.address)),r.a.createElement(un.a,{control:r.a.createElement(wt.a,k.fetchabi),label:k.fetchabi.label}),r.a.createElement(A.a,{in:!k.fetchabi.value},r.a.createElement(te.a,Object.assign({multiline:!0,fullWidth:!0},k.abi))),r.a.createElement(w.a,{type:"submit",variant:"outlined",color:"primary",onClick:_.submit},"Submit")," ",r.a.createElement(bn,{variant:"outlined",onFileUpload:function(e){var t=JSON.parse(e),a=Object.keys(t.networks).map((function(e){return{chainId:e,address:t.networks[e].address}}));if(_.setValue("fetchabi",!1),_.setValue("name",t.contractName),_.setValue("abi",JSON.stringify(t.abi)),1===a.length){var n=Oe.find((function(e){return e.chainId==a[0].chainId}));_.setValue("network",n.id),_.setValue("address",a[0].address)}else a.length>1&&E(a)}},"Upload Truffle build .json"))))},wn=function(e){var t=e.options,a=e.onSelect,n=_n();return r.a.createElement(Ca.a,{"aria-labelledby":"simple-dialog-title",open:!0},r.a.createElement(La.a,{id:"simple-dialog-title"},"Select Deployed Contract"),r.a.createElement(S.a,null,t.map((function(e){var t=Oe.find((function(t){return t.chainId==e.chainId}));if(t)return r.a.createElement(T.a,{button:!0,onClick:function(){a(e)},key:e.chainId},r.a.createElement(an.a,null,r.a.createElement(nn.a,{className:n.avatar},r.a.createElement(dn.a,null))),r.a.createElement(Ct.a,{primary:t.name,secondary:e.address}))}))))},Cn=Object(B.a)((function(e){return{identicon:{height:100,width:100}}})),Sn=function(){var e=Cn(),t=Q().addresses,a=ve().deleteAddress,n=0===t.length?r.a.createElement("div",null,"No Addresses.  Add one below"):void 0;return r.a.createElement("div",null,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Addresses"}),r.a.createElement(_e.a,null,n,r.a.createElement(S.a,{dense:!1},t&&t.map((function(t){return r.a.createElement(T.a,{key:t.address},r.a.createElement(an.a,null,r.a.createElement(nn.a,null,r.a.createElement(sn,{address:t.address,pixelWidth:42,className:e.identicon}))),r.a.createElement(Ct.a,{primary:t.name?r.a.createElement(k.a,{to:"/_/addresses/".concat(t.network,"/").concat(t.address)},t.name):r.a.createElement("span",null,r.a.createElement(k.a,{to:"/_/addresses/".concat(t.network,"/").concat(t.address)},t.address," "),r.a.createElement(rn.a,{label:t.network,variant:"outlined",size:"small"})),secondary:t.name?r.a.createElement("span",null,t.address," ",r.a.createElement(rn.a,{label:t.network,variant:"outlined",size:"small"})):null}),r.a.createElement(St.a,null,r.a.createElement(Ga,{onConfirm:function(){return function(e){a(e)}(t)},title:"Delete Address",description:"Remove address from address book?"},r.a.createElement(ct.a,{edge:"end","aria-label":"delete"},r.a.createElement(Da.a,null)))))}))),r.a.createElement(Tn,null))))},xn=function(e){var t=e.address,a=e.network,n=Je(t,a);if(!n)return null;var l=Object.filter(n.interface.functions,(function(e){return"call"===e.type})),c=Object.keys(l).filter((function(e){return e.indexOf("(")>-1})),i=(Object.filter(n.interface.functions,(function(e){return"transaction"===e.type})),Object.keys(l).filter((function(e){return e.indexOf("(")>-1}))),o=Object.keys(n.interface.events).filter((function(e){return e.indexOf("(")>-1}));return r.a.createElement("div",null,r.a.createElement(ee.a,null,"Contract ABI"),r.a.createElement(qe.a,{my:3},r.a.createElement(ee.a,null,"Call functions"),r.a.createElement(S.a,null,c.map((function(e){return r.a.createElement(T.a,{key:e},e)})))),r.a.createElement(qe.a,{my:3},r.a.createElement(ee.a,null,"Transactions"),r.a.createElement(S.a,null,i.map((function(e){return r.a.createElement(T.a,{key:e},e)})))),r.a.createElement(qe.a,{my:3},r.a.createElement(ee.a,{underline:!0},"Events"),r.a.createElement(S.a,null,o.map((function(e){return r.a.createElement(T.a,{key:e},e)})))))},An=function(){var e=Object(s.i)(),t=e.address,a=e.network,n=Object(s.g)(),l=ve().editAddress,c=X(t,a),i=Object(gt.fromJS)(c),o=Object(ae.useForm)({fields:[{name:"name",label:"Name",optional:!0}],initialValues:i,submit:function(e){var t=e.get("name");l(Object(F.a)({},c,{name:t})),n.push("/_/addresses")}}),u=Object(y.a)(o,2),m=u[0],d=u[1];return r.a.createElement("div",null,r.a.createElement(ee.a,{variant:"h6"},t," ",r.a.createElement(rn.a,{label:a,variant:"outlined",size:"small"})),r.a.createElement(d.Form,null,r.a.createElement(qe.a,{my:2},r.a.createElement(te.a,Object.assign({fullWidth:!0},m.name))),r.a.createElement(qe.a,{my:2},r.a.createElement(w.a,{type:"submit",onClick:d.submit,variant:"outlined",color:"primary"},"Save"),r.a.createElement(w.a,{component:k.a,to:"/_/addresses",variant:"outlined"},"Cancel"))),r.a.createElement(qe.a,{my:2},r.a.createElement(xn,{address:t,network:a})))},In=function(e){var t=e.onCancel,a=ve().addIntegration,n=Object(ae.useForm)({fields:[{name:"endpoint",label:"Endpoint"}],submit:function(e){a({type:"thegraph",endpoint:e.get("endpoint")})}}),l=Object(y.a)(n,2),c=l[0],i=l[1];return r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"New Integration"}),r.a.createElement(_e.a,null,r.a.createElement(ee.a,null,"TheGraph"),r.a.createElement(i.Form,null,r.a.createElement(qe.a,{flexDirection:"column"},r.a.createElement(te.a,c.endpoint)),r.a.createElement(w.a,{type:"submit",onClick:i.submit},"Submit"))),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{color:"primary"},"Save"),r.a.createElement(w.a,{onClick:t},"Cancel")))},Nn=a(328),Dn=a.n(Nn);function Pn(e){switch(e){case"thegraph":return r.a.createElement("a",{href:"http://thegraph.com",target:"_blank",rel:"noopener noreferrer"},"The Graph");default:throw new Error("unknown integration type ".concat(e))}}var Bn=function(){var e=Q().integrations,t=ve().deleteIntegration,a=Object(n.useState)(!1),l=Object(y.a)(a,2),c=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Integrations"}),r.a.createElement(_e.a,null,r.a.createElement(S.a,{dense:!1},e&&Object.keys(e).map((function(a){return r.a.createElement(T.a,{key:e[a].__id},r.a.createElement(an.a,null,r.a.createElement(nn.a,{src:Dn.a,alt:"The Graph"})),r.a.createElement(Ct.a,{primary:Pn(e[a].type),secondary:e[a].endpoint}),r.a.createElement(St.a,null,r.a.createElement(Ga,{onConfirm:function(){return n=e[a],void t(n);var n},title:"Delete Integration",description:"Delete integration?"},r.a.createElement(ct.a,{edge:"end","aria-label":"delete"},r.a.createElement(Da.a,null)))))}))),r.a.createElement(A.a,{in:c},r.a.createElement(In,{onCancel:function(){return i(!1)}}))),r.a.createElement(Ce.a,null,c?void 0:r.a.createElement(w.a,{onClick:function(){return i(!0)}},"Add Integration"))))},Mn=a(330),Ln=a.n(Mn),Rn=a(104),Fn=(a(165),a(677)),Wn=function(){var e=ve().addTab,t=Object(n.useState)(null),a=Object(y.a)(t,2),l=a[0],c=a[1],i=Object(ae.useForm)({fields:[{name:"name",label:"Name"}],submit:function(t){try{e({name:t.get("name")})}catch(a){c(a.toString())}}}),o=Object(y.a)(i,2),s=o[0],u=o[1],m=l?r.a.createElement(dt,{message:l}):void 0;return r.a.createElement("div",null,m,r.a.createElement(u.Form,null,r.a.createElement(te.a,Object.assign({fullWidth:!0},s.name,{InputProps:{endAdornment:r.a.createElement(Fn.a,{position:"end"},r.a.createElement(w.a,{type:"submit",color:"primary",onClick:u.submit},"Add Tab"))}}))))},Gn=a(329),Jn=function(e){var t=e.onSelect,a=e.onRemove,n=e.onCancel;return r.a.createElement("div",null,r.a.createElement(Ca.a,{open:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ba.a,null,r.a.createElement(Rn.b,{set:"apple",onSelect:t,data:Gn})),r.a.createElement(Pa.a,null,r.a.createElement(w.a,{onClick:n},"Cancel"),r.a.createElement(w.a,{onClick:a},"Remove Icon"))))},Vn=function(e){var t=e.tab,a=e.onCancel,l=ve(),c=l.editTab,i=l.deleteTab,o=Object(n.useState)(!1),s=Object(y.a)(o,2),u=s[0],m=s[1],d=Object(gt.fromJS)(t),p=Object(ae.useForm)({fields:[{name:"name",label:"Name"},{name:"slug",label:"URL Slug"}],initialValues:d,submit:function(e){c(Object(F.a)({},t,{name:e.get("name"),slug:e.get("slug")})),a()}}),f=Object(y.a)(p,2),b=f[0],E=f[1],v=u?r.a.createElement(Jn,{onSelect:function(e){var a=Object.assign({},t,{icon:e.id});c(a),m(!1)},onRemove:function(){var e=Object.assign({},t,{icon:void 0});c(e),m(!1)},onCancel:function(){m(!1)}}):void 0,g=t.icon?r.a.createElement("span",null,"Icon:"," ",r.a.createElement(Rn.a,{emoji:t.icon,size:32,set:"apple"})):"Select icon";return r.a.createElement("div",null,v,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Editing tab"}),r.a.createElement(E.Form,null,r.a.createElement(_e.a,null,r.a.createElement(w.a,{onClick:function(){return m(!0)}},g),r.a.createElement(te.a,Object.assign({fullWidth:!0},b.name)),r.a.createElement(te.a,Object.assign({fullWidth:!0},b.slug))),r.a.createElement(Ce.a,null,r.a.createElement(w.a,{variant:"outlined",color:"primary",type:"submit",onClick:E.submit},"Save"),r.a.createElement(w.a,{variant:"outlined",onClick:a},"Cancel"),r.a.createElement("br",null),r.a.createElement(Ga,{onConfirm:function(){return function(e){i(e),a()}(t)},title:"Delete Tab",description:'Delete tab "'.concat(t.name,'"?')},r.a.createElement(w.a,{variant:"outlined"},"Delete Tab"))))))};function Un(e,t){for(var a=Object.keys(e),n=0;n<a.length;n++)if(e[a[n]].__id===t)return e[a[n]]}var zn=function(){var e=Q().tabs,t=ve().editTab,a=Object(n.useState)(),l=Object(y.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(),s=Object(y.a)(o,2),u=s[0],m=s[1];if(void 0!==u){var d=Un(e,u);return r.a.createElement(Vn,{tab:d,onCancel:function(){return m(void 0)}})}var p=void 0!==c?r.a.createElement(Jn,{onSelect:function(a){var n=Un(e,c),r=Object.assign({},n,{icon:a.id});t(r),i(void 0)},onRemove:function(){var a=Un(e,c),n=Object.assign({},a,{icon:void 0});t(n),i(void 0)},onCancel:function(){i(void 0)}}):void 0;return r.a.createElement("div",null,p,r.a.createElement(je.a,null,r.a.createElement(ke.a,{title:"Tabs"}),r.a.createElement(_e.a,null,r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,md:8},r.a.createElement(S.a,{dense:!1},Object.keys(e).map((function(t){return r.a.createElement(T.a,{key:e[t].__id},r.a.createElement(an.a,{onClick:function(){return i(e[t].__id)}},e[t].icon?r.a.createElement(Rn.a,{emoji:e[t].icon,size:32,set:"apple"}):r.a.createElement(Ln.a,null)),r.a.createElement(Ct.a,{primary:e[t].name,secondary:r.a.createElement(k.a,{to:"/".concat(e[t].slug)},"/".concat(e[t].slug))}),r.a.createElement(St.a,null,r.a.createElement(ct.a,{edge:"end","aria-label":"delete",onClick:function(){return m(e[t].__id)}},r.a.createElement(ja.a,null))))})),r.a.createElement(T.a,null,r.a.createElement(an.a,null,r.a.createElement(Ia.a,null)),r.a.createElement(Ct.a,null,r.a.createElement(Wn,null))))),r.a.createElement(C.a,{item:!0,xs:12,md:4},r.a.createElement(ee.a,null,"Tabs defined the navigation of your interface."),r.a.createElement(ee.a,null,"Each tab will appear in the navigation bar on the left."),r.a.createElement(ee.a,null,"A tab can have multiple pages."))))))},qn=a(241),Qn=a.n(qn),Hn=function(){var e=Z(Q()),t=JSON.stringify(e,1,"  ");return r.a.createElement("div",null,r.a.createElement(w.a,{component:k.a,to:"/_/settings",variant:"outlined"},r.a.createElement(Qn.a,null)," ","Back"),r.a.createElement(w.a,{variant:"outlined",onClick:function(){en()(t,"template.json")},startIcon:r.a.createElement($a.a,null)},"Download Template JSON"),r.a.createElement("pre",null,t),r.a.createElement("br",null),r.a.createElement(w.a,{component:k.a,to:"/_/settings",variant:"outlined",startIcon:r.a.createElement(Qn.a,null)},"Back"))},Xn=function(){return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/_/tabs",component:zn}),r.a.createElement(s.b,{exact:!0,path:"/_/integrations",component:Bn}),r.a.createElement(s.b,{exact:!0,path:"/_/addresses/:network/:address",component:An}),r.a.createElement(s.b,{exact:!0,path:"/_/addresses",component:Sn}),r.a.createElement(s.b,{path:"/_/json",component:Hn}),r.a.createElement(s.b,{path:"/_/settings",component:tn}))},Kn=function(){var e=Q(),t=e.tabs[Object.keys(e.tabs)[0]];return r.a.createElement(s.d,null,e.tabs&&Object.keys(e.tabs).map((function(t,a){return r.a.createElement(s.b,{exact:!0,key:t,path:"/".concat(e.tabs[t].slug),render:function(){return r.a.createElement(Ha,{tab:e.tabs[t]})}})})),r.a.createElement(s.b,{path:"/_",component:Xn}),r.a.createElement(s.b,{path:"/",render:function(){return r.a.createElement(s.a,{to:"/".concat(t.slug)})}}))},Yn=a(242),$n=Object(B.a)((function(e){return{chip:{position:"absolute",top:e.spacing(2),right:e.spacing(2)},identicon:{marginLeft:6,marginTop:4},snacks:{top:e.spacing(8)}}})),Zn=function(){var e=$n(),t=Object(d.b)().account;return t?r.a.createElement("div",null,r.a.createElement(Ze,null),r.a.createElement(et,null),r.a.createElement(rn.a,{className:e.chip,label:"".concat(t.substr(0,6),"...").concat(t.substr(38,4)),avatar:r.a.createElement("span",{className:e.identicon},r.a.createElement(sn,{address:t}))}),r.a.createElement(Yn.SnackbarProvider,{anchorOrigin:{vertical:"top",horizontal:"right"},preventDuplicate:!0,className:e.snacks},r.a.createElement(er,null))):r.a.createElement("div",null,r.a.createElement(rn.a,{className:e.chip,label:"Connect web3 wallet"}))},er=function(){var e=Object(Yn.useSnackbar)(),t=e.enqueueSnackbar,a=e.closeSnackbar,l=$e();return Object(n.useEffect)((function(){Object.keys(l).forEach((function(e){var n=l[e];!!n.receipt?(a(e),t(r.a.createElement(jn,{hash:e,chainId:n.chainId,prefix:"Confirmed:"}),{variant:"success",persist:!0,key:"".concat(e,"-confirmed")})):t(r.a.createElement(jn,{hash:e,chainId:n.chainId,prefix:"Pending:"}),{variant:"info",persist:!0,key:e})}))}),[l]),null},tr=Object(B.a)((function(e){return{root:{display:"flex",height:"100%"},drawer:Object(j.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},content:{height:"100%",flexGrow:1,padding:e.spacing(3)},navlist:{backgroundColor:e.palette.white,flexDirection:"column",height:"100%",padding:e.spacing(2)},divider:{margin:e.spacing(2,0)},nav:{marginBottom:e.spacing(2)},item:{display:"flex",paddingTop:0,paddingBottom:0,marginTop:"auto"},settingsItem:{color:e.palette.text.disabled,padding:"10px 4px",justifyContent:"flex-start",textTransform:"none",letterSpacing:0,width:"100%",fontWeight:e.typography.fontWeightMedium},button:{padding:"10px 8px",justifyContent:"flex-start",textTransform:"none",letterSpacing:0,width:"100%",fontWeight:e.typography.fontWeightMedium},icon:{color:e.palette.icon,width:24,height:24,display:"flex",alignItems:"center",marginRight:e.spacing(1)},active:{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"& $icon":{color:e.palette.primary.main}}}})),ar=Object(n.forwardRef)((function(e,t){return r.a.createElement(k.b,Object.assign({innerRef:t},e))})),nr=[{name:"Tabs",route:"tabs",icon:P.a},{name:"Integrations",route:"integrations",icon:P.a},{name:"Address book",route:"addresses",icon:P.a}],rr=function(e){var t=e.children,a=Object(M.a)(),l=tr(a),c=Object(s.h)().pathname,i=(Object(_.a)(a.breakpoints.up("lg"),{defaultMatches:!0}),Q()),o=Object(n.useState)(!1),u=Object(y.a)(o,2),m=u[0],d=u[1],p=c.startsWith("/_"),f=void 0!==window?function(){return window.document.body}:void 0,b=r.a.createElement("div",null,r.a.createElement(C.a,{container:!0,style:{height:"100%"}},r.a.createElement(C.a,{item:!0,xs:12,style:{marginBottom:"auto"}},r.a.createElement(S.a,null,i.tabs&&Object.keys(i.tabs).map((function(e,t){return r.a.createElement(T.a,{className:l.item,key:"/".concat(i.tabs[e].slug),disableGutters:!0},r.a.createElement(w.a,{activeClassName:l.active,className:l.button,component:ar,to:"/".concat(i.tabs[e].slug)},r.a.createElement("div",{className:l.icon},i.tabs[e].icon?r.a.createElement(Rn.a,{emoji:i.tabs[e].icon,size:24,set:"apple"}):void 0),i.tabs[e].name))})))),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(S.a,{className:l.list,style:{marginTop:"auto"}},r.a.createElement(x.a,null),r.a.createElement(T.a,{className:Object(L.default)(l.item,l.settings,p?void 0:l.settingsItem),disableGutters:!0},r.a.createElement(w.a,{className:Object(L.default)(l.button,p?void 0:l.settingsItem),component:k.a,to:"/_/settings"},r.a.createElement("div",{className:Object(L.default)(l.icon,l.settingsItem)},r.a.createElement(P.a,null)),"Settings")),r.a.createElement(A.a,{in:p},nr.map((function(e){return r.a.createElement(T.a,{className:l.subitem,key:e.name},r.a.createElement(w.a,{className:Object(L.default)(l.button,p?void 0:l.settingsItem),component:k.a,to:"/_/".concat(e.route)},r.a.createElement("div",{className:l.icon}),e.name))})))))));return r.a.createElement("div",{className:l.root},r.a.createElement("nav",{className:l.drawer,"aria-label":"Navigation"},r.a.createElement(I.a,{smUp:!0,implementation:"css"},r.a.createElement(N.a,{container:f,variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:m,onClose:function(){d(!m)},classes:{paper:l.drawerPaper},ModalProps:{keepMounted:!0}},b)),r.a.createElement(I.a,{xsDown:!0,implementation:"css"},r.a.createElement(N.a,{classes:{paper:l.drawerPaper},variant:"permanent",open:!0},b))),r.a.createElement("main",{className:l.content},r.a.createElement(Zn,null),t))},lr=a(187),cr=function(e){var t=e.children,a=e.storage,l=Q(),c=Object(n.useState)(!1),i=Object(y.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)(!1),m=Object(y.a)(u,2),p=m[0],f=m[1],b=l.integrations,E=ve(),v=E.loadAppTemplate,g=E.connectIntegration,h=E.loadSettings,O=Object(d.b)().activate,j=function(){var e=Object(d.b)(),t=e.activate,a=e.active,r=(e.chainId,e.library,Object(n.useState)(!1)),l=Object(y.a)(r,2),c=l[0],i=l[1];return Object(n.useEffect)((function(){Ge.isAuthorized().then((function(e){e?t(Ge,void 0,!0).catch((function(e){console.warn(e),i(!0)})):i(!0)}))}),[]),Object(n.useEffect)((function(){!c&&a&&i(!0)}),[c,a]),c}();return Object(n.useEffect)((function(){o||(h(),s(!0))}),[o]),Object(n.useEffect)((function(){Object(le.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.load();case 3:t=e.sent,v(t||lr,a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0.toString());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(n.useEffect)((function(){if(l.__loaded)for(var e=Object.keys(b),t=0;t<e.length;t++){var a=b[e[t]];a.__connected||g(a)}}),[l.__loaded,b]),Object(n.useEffect)((function(){j&&O(Ge)}),[]),p?r.a.createElement(dt,{message:p}):l.__loaded&&j?Object.keys(b).map((function(e){return b[e].__connected})).includes(!1)?r.a.createElement(Et,null):r.a.createElement("div",null,t):r.a.createElement(Et,null)},ir=Object(u.a)();function or(e){var t=new m.a(e);return t.pollingInterval=12e3,t}function sr(e){var t=e.storage;return r.a.createElement(i.a,{theme:E},r.a.createElement(o.a,null),r.a.createElement(s.c,{history:ir},r.a.createElement(d.a,{getLibrary:or},r.a.createElement(p.ToastProvider,{components:{Toast:O}},r.a.createElement(Ke,null,r.a.createElement(q,{storage:t},r.a.createElement(cr,{storage:t},r.a.createElement(rr,null,r.a.createElement(Kn,null)))))))))}var ur,mr=function(){Y();return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(T.a,null,r.a.createElement(Ct.a,{primary:"File served from local computer. Download template to save changes"}))))},dr=function(){function e(t){Object(Pe.a)(this,e),this.type="http",this.name="HTTP Source",this.httpLocation=t,this.canSave=!1,this.settingsComponent=mr}return Object(Be.a)(e,[{key:"load",value:function(){var e=Object(le.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("File load here..."),e.next=3,fetch(this.httpLocation);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(le.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("save to http source not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(le.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("Delete from http source not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pr=a(331),fr=a.n(pr),br=function(){var e=Q(),t=r.a.useContext(J).state.__source,a=Y(),n=ve(),l=n.loadAppTemplate,c=n.setSetting,i=Object(p.useToasts)().addToast,o=Object(s.g)();return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(T.a,{button:!0,onClick:function(){var e;c(e="autosave",!a[e])}},r.a.createElement(Tt.a,null,r.a.createElement(wt.a,{edge:"start",checked:a.autosave,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"checkbox-list-label-"}})),r.a.createElement(Ct.a,{primary:"Auto-save changes to browser storage"})),r.a.createElement(T.a,{button:!0,onClick:function(){var a=Z(e);t.save(a),i("Template saved to localstorage",{apperance:"success",autoDismiss:!0,autoDismissTimeout:3e3})}},r.a.createElement(Tt.a,null,r.a.createElement(fr.a,null)),r.a.createElement(Ct.a,null,"Save template to localstorage")),r.a.createElement(Ga,{title:"Delete template from Browser storage",description:"Are you sure you want to delete the template from your browser's localstorage?",onConfirm:function(){t.delete(),l(lr,t),i("Template deleted from browser localstorage",{apperance:"success",autoDismiss:!1}),o.push("/")}},r.a.createElement(T.a,{button:!0},r.a.createElement(Tt.a,null,r.a.createElement(Da.a,null)),r.a.createElement(Ct.a,null,"Delete from Localstorage")))))},Er=function(){function e(t){Object(Pe.a)(this,e),this.type="browser",this.name="Browser file storage",this.localstoragePrefix=t,this.settingsComponent=br,this.canSave=!0}return Object(Be.a)(e,[{key:"load",value:function(){var e=Object(le.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem(this.localstoragePrefix),e.abrupt("return",JSON.parse(t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(le.a)(re.a.mark((function e(t){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem(this.localstoragePrefix,JSON.stringify(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(le.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem(this.localstoragePrefix);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();switch(window.REACT_APP_ETHERFACE_STORAGE){case"http":ur=new dr(window.REACT_APP_ETHERFACE_TEMPLATE_URL);break;default:ur=new Er("etherface-file")}c.a.render(r.a.createElement(sr,{storage:ur}),document.querySelector("#root"))}},[[358,1,2]]]);
//# sourceMappingURL=main.2575eec6.chunk.js.map